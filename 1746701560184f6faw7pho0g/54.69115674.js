"use strict";(self["webpackChunkcc_web_client"]=self["webpackChunkcc_web_client"]||[]).push([[54],{91054:function(t,e,s){s.r(e),s.d(e,{default:function(){return b}});var i=s(79029),n=function(){var t=this,e=t._self._c;return e(i.A,{staticClass:"container_regression_sign",attrs:{app:""}},[e("div",{staticClass:"regression_sign_box"},[e("div",{staticClass:"regression_sign_title"},[e("div",{staticClass:"regression_sign_title_img"},[e("img",{attrs:{src:t.loadIcon(`day_title_${t.languageType}`,!1)}})])]),e("div",{staticClass:"regression_sign_chest"},t._l(t.signList,(function(s,i){return e("div",{key:i,staticClass:"chest_box_item",on:{click:function(e){return t.onReceiveChest({...s,day_index:i+1})}}},[e("img",{staticClass:"chest_box_item_img",attrs:{src:t.loadIcon(t.chestIcon(s.is_finish),!1),alt:""}}),e("div",{staticClass:"chest_box_item_gold"},[e("img",{staticClass:"chest_box_item_gold_img",attrs:{src:t.loadIcon("day_gold",!1),alt:""}}),e("span",{staticClass:"chest_box_item_gold_text"},[t._v(t._s(`${t.currencySymbol}${s.gold}`))])])])})),0),e("div",{staticClass:"regression_sign_content"},[e("div",{staticClass:"text_box",domProps:{innerHTML:t._s(t.contentText)}})])])])},o=[],c=s(95353),a=s(58725),r=s(81899),l=s(78749),_=s.n(l),d=s(28729),g={name:"regressionSignIn",data(){return{info:{}}},computed:{...(0,c.aH)("switchState",["currencyShow"]),...(0,c.aH)("base",["isApp","systemConfig","languageType","user","showRedDot"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""},signList(){const{action_detail:t=[]}=this.info;return t},contentText(){const{content:t=""}=this.info;return t?(0,a._w)(t):""}},created(){window.removeEventListener("resize",this.initNode),window.addEventListener("resize",this.initNode),this.initNode(),this.getInfo()},beforeDestroy(){window.removeEventListener("resize",this.initNode)},methods:{loadIcon:t=>(0,r.A)(t,!1),initNode(){this.$nextTick((()=>{const t=document.querySelectorAll(".regression_sign_title_img")[0];let e=0,s=0;if(t){const{width:s=0}=t.getBoundingClientRect()||{};e=parseInt(138*s/620)}const i=document.querySelectorAll(".regression_sign_chest")[0];if(i){const{width:t=0}=i.getBoundingClientRect()||{};s=parseInt(.25*t)}const n=document.querySelectorAll(".regression_sign_box")[0];n&&(n.style.setProperty("--title_img_h",`${e}px`),n.style.setProperty("--chest_img_h",`${s}px`))}))},chestIcon(t=0){return{0:"box_lock",1:"box_active",2:"box_linqu"}[t]},async getInfo(){const t={token:this.user?.token,language:this.languageType},e=await(0,d.Gz)(t).catch((t=>t));if(!e||0!=e.code)return;const s=e&&e.data&&"[object Object]"==Object.prototype.toString.call(e.data)?e.data:{};this.info=s},async onReceiveChest(t={}){const{back_task_join_id:e=0}=this.info,{day_index:s=1,is_finish:i=0}=t;if(1!=i)return;const n={day_index:s,token:this.user?.token,language:this.languageType,back_task_join_id:e},o=await(0,d.$f)(n).catch((t=>t));if(!o||0!=o.code)return;const c=o&&o.data&&"[object Object]"==Object.prototype.toString.call(o.data)?o.data:{};_().publish(this.$store.state?.dialog?.DUALOG_MANAGER_KEY,{key:"deposit",seat:"first",params:{title:this.$t("UI_Code_Bonus"),value:c.gold||0}}),this.$store.dispatch("base/showRedDotReceivedFun",{language:this.languageType,token:this.user?.token,version:2,event:"weekcard_sign"}),this.getInfo()}}},u=g,h=s(845),y=(0,h.A)(u,n,o,!1,null,"06a966ce",null),b=y.exports}}]);