"use strict";(self["webpackChunkcc_web_client"]=self["webpackChunkcc_web_client"]||[]).push([[437],{17701:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var i=s(79029),a=s(10257),n=function(){var t=this,e=t._self._c;return e(i.A,{staticClass:"wash_code container c_box",attrs:{app:""}},[e("div",{staticClass:"page wash_code"},[t.isSkeleton?e("space-ui",{attrs:{sign:"washCode"}}):[e(a.A,{attrs:{"aspect-ratio":t.isApp?750/810:3.3125}},[e("div",{staticClass:"wash_box"},[e("div",{staticClass:"wash_title"},[e("span",{staticClass:"lt"},[t._v(t._s(t.$t("UI_VIP_Embaralhar.moneyTip")))]),e("div",{staticClass:"rt"},[e("span",{on:{click:function(e){t.historyState=!0}}},[t._v(t._s(t.$t("UI_Activity_Details")))])])]),e("div",{staticClass:"wash_money"},[e("div",{staticClass:"lt"},[t.isTourist?t._e():e("div",{staticClass:"lt_level"},[e("span",{staticClass:"level"},[t._v(t._s(t.$t("UI_VIP_TAB.Vip"))+" "+t._s(t.getVipCurrentLevel()))]),e("span",{staticClass:"text"},[t._v(t._s(t.$t("UI_VIP_Current_Livel")))])])]),e("div",{staticClass:"rt"},[e("div",{staticClass:"receive_money"},[e("span",{staticClass:"symbol"},[t._v(t._s(t.currencySymbol))]),t._v("   "),e("div",{domProps:{innerHTML:t._s(t.receiveMoneyHtml)}})]),e("button",{directives:[{name:"zoom",rawName:"v-zoom",value:t.receiveMoney>=0,expression:"receiveMoney >= 0"}],staticClass:"btn_radius cc_btn_primary money_btn",class:{disabled_btn:t.receiveMoney<=0},on:{click:t.cleanBet}},[t._v(" "+t._s(t.$t("UI_VIP_Embaralhar.receberBtn"))+" ")])])])])]),t.isMultiple?e("div",{staticClass:"wash_multiple"},[e("div",{staticClass:"wash_multiple_title"},[t._v(t._s(t.gameData.lang_title||""))]),t.multipleTime?e("div",{staticClass:"wash_multiple_time"},[t._v(t._s(t.multipleTime))]):t._e(),e("div",{staticClass:"wash_multiple_text",domProps:{innerHTML:t._s(t.gameData.content)}})]):t._e(),e("div",{staticClass:"wash_text_table"},[e("div",{staticClass:"wash_text"},[e("div",{staticClass:"wash_text_title"},[t._v(t._s(t.$t("UI_VIP_Embaralhar.desc3")))]),e("div",{staticClass:"wash_text_text"},[t._v(t._s(t.$t("UI_VIP_Embaralhar.desc5")))])]),e("div",{staticClass:"wash_table"},[e("table-temp",{attrs:{"table-head":t.headList,"table-list":t.tableList},scopedSlots:t._u([{key:"level",fn:function({row:i}){return[e("div",{staticClass:"level_text"},[i.grade==t.currentLevel?e("img",{staticClass:"level_img",attrs:{src:s(50472),alt:""}}):e("img",{staticClass:"level_img",attrs:{src:s(77850),alt:""}}),e("span",{class:{text:i.grade==t.currentLevel}},[t._v(t._s(i.level))]),i.grade!=t.currentLevel||t.isTourist?t._e():e("div",{staticClass:"current"},[e("span",[t._v(" "+t._s(t.$t("UI_VIP_Current"))+" ")])])])]}}])})],1)])],e("custom-dialog",{attrs:{full:!0},model:{value:t.historyState,callback:function(e){t.historyState=e},expression:"historyState"}},[e("recomendar-history",{style:{width:t.isApp?"100%":"720px"},on:{close:function(e){t.historyState=!1}}})],1),e("custom-dialog",{attrs:{full:!0},model:{value:t.isShowStatistic,callback:function(e){t.isShowStatistic=e},expression:"isShowStatistic"}},[e("statistic-info",{style:{width:t.isApp?"100%":"720px"},attrs:{show:t.isShowStatistic},on:{close:function(e){t.isShowStatistic=!1}}})],1)],2)])},r=[],o=s(95353),l=s(40026),c=s(70212),u=s(4164),p=s(71937),_=s(51193),h=s(61384),m=s(63067),d=s(78749),v=s.n(d),g=s(58725),b={name:"WashCode",components:{RecomendarHistory:u.A,tableTemp:c.A,spaceUi:m.A,StatisticInfo:p.A},mixins:[l.A],data(){return{bonusInfo:{},percentData:{},gameData:{},historyState:!1,timer:null,isSkeleton:!0,multipleTime:0,isShowStatistic:!1}},computed:{...(0,o.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,o.aH)("vip",["vipList","infoDesc"]),...(0,o.aH)("switchState",["currencyShow"]),...(0,o.L8)("base",["getVipCurrentLevel","isBetShow","isTourist"]),...(0,o.aH)("base",["showRedDot"]),currentLevel(){return this.user.vip_id-1},currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""},receiveMoney(){const{clean_bet:t={}}=this.showRedDot,{value:e=0}=t;return parseFloat(e).toFixed(2)},newHead(){const{list:t=[]}=this.bonusInfo,e={label:this.$t("UI.MakeMoney_1_MakeGold_1"),prop:"level",width:"110px",fixed:"left",type_id:-999,slot:"level",align:"center"},s=t.sort(((t,e)=>e.sort-t.sort)).map((t=>{const e={width:this.isApp?"90px":"",label:t.name,prop:this.$u.camelCase(t.name),sort:t.sort,type_id:t.type_id,align:"center"};return e}));return[e,...s]},headList(){return console.log(this.newHead),{columns:this.newHead}},tableList(){let t=[];const{list:e={}}=this.percentData,s=JSON.parse(JSON.stringify(this.$u.lodash.isObject(e)?e:{}));return this.newHead.forEach((e=>{if(-999==e.type_id){const i=Object.values(s)[0]||[];i.forEach(((s,i)=>{t[i]=t[i]?t[i]:{},t[i][e.prop]=s.name.toLocaleUpperCase(),t[i]["grade"]=i}))}else{const i=s[e.type_id]||[];i.forEach(((s,i)=>{t[i]=t[i]?t[i]:{},t[i][e.prop]=`${Number(100*s.percent).toFixed(2)}%`}))}})),t},isMultiple(){const{cur_time:t=0,end_time_stamp:e=0}=this.gameData;return e>t},receiveMoneyHtml(){const t=this.receiveMoney.split(".");return`<span class="money">${this.isFormatMillageAndNumber(t[0],!0)}</span><span>.${t[1]}</span>`}},created(){if(!this.isBetShow)return this.$router.push({name:"menu"});this.getList(),this.$store.dispatch("base/showRedDotReceivedFun",{language:this.languageType,token:this.user.token,version:2,event:"clean_bet"})},beforeDestroy(){this.multipleTimeout&&clearTimeout(this.multipleTimeout)},methods:{capitalizeFirstLetter:g.Zr,async getList(){let t=!0;this.isSkeleton=!0;const e={token:this.user.token,language:this.languageType},s={token:this.user.token,language:this.languageType,platform:h.mS};this.timer=setTimeout((()=>{t&&this.$pop.loading().show()}),2e3);const[i,a,n]=await Promise.all([(0,_.pq)(s).catch((t=>t)),(0,_.oG)(e).catch((t=>t)),(0,_.Yr)(e).catch((t=>t))]);t=!1,this.timer&&clearTimeout(this.timer),this.$pop.loading().hide();const{code:r,data:o={}}=i;0==r&&(this.bonusInfo=o);const{code:l="",data:c={}}=a;0==l&&(this.percentData=c);const{code:u="",data:p={}}=n;0==u&&(this.gameData=p),this.multipleTimeFun(),this.isSkeleton=!1},async cleanBet(){if(this.receiveMoney<=0)return;if(this.receiveMoney<this.bonusInfo?.min_clean_bet_limit)return void this.$pop.message().show({content:this.$t("UI.Wash_Tips",{gold:this.bonusInfo?.min_clean_bet_limit})});const t={language:this.languageType,token:this.user.token},{code:e,msg:s}=await(0,_.Lf)(t).catch((t=>t));if(0!=e)return this.$pop.message().show({content:s});this.getList(),v().publish(this.$store.state?.dialog?.DUALOG_MANAGER_KEY,{key:"deposit",params:{title:this.$t("UI_Code_WashCodeRecord"),value:this.receiveMoney}}),this.$store.dispatch("base/showRedDotReceivedFun",{version:2,event:"clean_bet",language:this.$store.state.base.languageType,token:this.$store.state.base.user.token}),localStorage.removeItem(`IS_CLEAN_BET_${this.user.uid}`)},getBonusInfo(t){const{list:e=[],vip_conf:s={}}=this.bonusInfo;return this.getVIPList(e,s,t)},getVIPList(t=[],e={},s=""){let i=t.lenght>0?t.sort(((t,e)=>t.sort>e.sort?1:-1)):t;return i=i.map((t=>{let i=e[s][t.type_id];return i=parseFloat(100*i).toFixed(2),{...t,current:i}})),i.map((t=>({name:t.name,current:`${t.current}%`,bet:(this.user.vip_id==s?this.getNumberValue(t.list,"bet"):0).toFixed(2),gold:(this.user.vip_id==s?this.getNumberValue(t.list,"gold"):0).toFixed(2)})))},getNumberValue(t,e){const s=t.map((t=>t[e])),i=s.reduce(((t,e)=>this.$u.formatterNumber(t)+this.$u.formatterNumber(e)));return parseFloat(i)},multipleTimeFun(){const{cur_time:t=0,end_time_stamp:e=0}=this.gameData;if(!t||!e)return;const s=this.$u.datetime.getDifferTime(1e3*e,1e3*t),{day:i,hh:a,mm:n,ss:r}=s;if(i>=1)this.multipleTime=this.$t("UI_Wash_Multiple",{X:i,H:a});else{this.multipleTime=`${a}:${n}:${r}`;const t=3600*a+60*n+Number(r);this.multipleTimeCount(t)}},multipleTimeCount(t=0){this.multipleTimeout&&clearTimeout(this.multipleTimeout),!t||t<0||(this.multipleTimeout=setTimeout((()=>{const e=t-1,s=Math.floor(e/3600);let i=e-3600*s;i=Math.floor(i/60);let a=e-3600*s-60*i;this.multipleTime=`${this.$u.datetime.strpad(s)}:${this.$u.datetime.strpad(i)}:${this.$u.datetime.strpad(a)}`,this.multipleTimeCount(e)}),1e3))},isFormatMillageAndNumber(t,e){return(0,g.zp)(t,e,this.systemConfig?.thousand_mark||0)}}},y=b,f=s(845),w=(0,f.A)(y,n,r,!1,null,"08cd97c0",null),C=w.exports},65236:function(t,e){e.A={game_wrapper_space:"10",game_wrapper_app_space:"8",grid_space:"10",grid_space_app:"6",icon_search_size:"14",search_field_height:"36",group_icon_size:"16",pesquisa_img_width:"128",pesquisa_img_height:"176",xs_pesquisa_img_width:"88",xs_pesquisa_img_height:"121",search_tabs_height:"48",search_tabs_color:"#fff",lobby_box_padded:"16",xs_lobby_box_padded:"16",game_recent_indiv_app:"5",game_recent_indiv_pc:"8",game_recent_spacing_app:"12",game_recent_spacing_pc:"16"}},51193:function(t,e,s){s.d(e,{DT:function(){return c},Ek:function(){return _},Ld:function(){return o},Lf:function(){return r},U$:function(){return n},Yr:function(){return p},fF:function(){return l},oG:function(){return u},pq:function(){return a}});var i=s(3801);const a=async t=>await i.A.post("/clearn_bet/info",t),n=async t=>await i.A.post("/vip/vipList",t),r=async t=>await i.A.post("/clearn_bet/cleanBetV2",t),o=async t=>await i.A.post("/vip/receiveReward",t),l=async t=>await i.A.post("/clearn_bet/newCleanBetList",t),c=async t=>await i.A.post("/user_agent/directDetailList",t),u=async t=>await i.A.post("/clearn_bet/newPercentList",t),p=async t=>await i.A.post("/Activitie/newGamePromotion",t),_=async t=>await i.A.post("/user/userGameDailyStatistics",t)}}]);