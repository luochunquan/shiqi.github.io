"use strict";(self["webpackChunkcc_web_client"]=self["webpackChunkcc_web_client"]||[]).push([[726],{85620:function(t,e,i){i.r(e),i.d(e,{default:function(){return vt}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login_modal_box",class:t.isApp?"login_modal_box_app":"login_modal_box_pc"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isApp,expression:"!isApp"}],staticClass:"login_modal_box_pc_left"},[e("img",{staticClass:"login_logo_img",attrs:{src:t.loadIcon("login_banner",!0),alt:""}})]),e("div",{staticClass:"login_box"},[e("simple-tab-btn",{attrs:{"is-icon":t.isIcon,value:t.tabIndex,fontSize:t.commonStyle("login_model_simple_tab_font_size"),list:t.btnTabs},on:{change:t.changeTab,close:t.closeDialog}}),0==t.tabIndex?e("login",{on:{loginSuccess:t.loginSuccess}}):e("register",{on:{loginSuccess:t.loginSuccess}})],1)])},a=[],o=i(95353),r=i(87027),n=i(81899),c=i(62754),l=i(88318),_=i(23246),p=i(77068),d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login_box_container"},[t.isCpfVerify?e("cpf-regist",{on:{onCpfSubmit:t.onCpfSubmit}}):[t.tabs.length>1?e("div",{staticClass:"btn_tab_wrap"},[e("btn-tab",{attrs:{width:t.variables.login_model_simple_tab_container_btn_tab_width,radius:t.variables.login_model_simple_tab_container_btn_tab_radius,"tag-list":t.tabs,type:t.btnIndex},on:{changeTab:t.changeTab}})],1):t._e(),e(_.A,{ref:"form",staticClass:"login_info",attrs:{"lazy-validation":""}},[t.isMultiSiteShow&&t.pageMultiSiteSwitch.includes(2)?e("login-multi-currency"):t._e(),"mobile"===t.btnIndex?e(p.A,{staticClass:"form_field form_text_field form_phone",attrs:{label:t.$t("UI.Login_0_main_1"),"background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",type:"number",clearable:"","hide-details":"",rounded:"",outlined:"",filled:""},model:{value:t.params.tel,callback:function(e){t.$set(t.params,"tel",e)},expression:"params.tel"}},[e("template",{slot:"prepend-inner"},[e("user-select",{attrs:{value:t.params.area,userIcon:t.$u.optionalChaining(t.phonePlaces[0],"flag"),list:t.phonePlaces},on:{change:e=>t.params.area=e.code}})],1)],2):t._e(),"email"===t.btnIndex?e("inputAutocompleteSuffix",{staticClass:"email_wrap form_field form_text_field",attrs:{label:t.$t("UI_EnterMail"),"background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",clearable:"",rounded:"",outlined:"",filled:"",radius:t.variables.login_regist_field_radius,"suffix-list":t.emailSuffix,title:t.$t("UI_Login_Email_Suffix")},model:{value:t.params.email,callback:function(e){t.$set(t.params,"email",e)},expression:"params.email"}}):t._e(),e(p.A,{staticClass:"form_field form_text_field",attrs:{label:t.$t("UI.Login_0_main_2"),type:t.pwdState?"text":"password","background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",clearable:"","hide-details":"",rounded:"",outlined:"",filled:""},model:{value:t.params.password,callback:function(e){t.$set(t.params,"password",e)},expression:"params.password"}},[e("template",{slot:"append"},[e("div",{staticClass:"cursor_point",on:{click:function(e){t.pwdState=!t.pwdState}}},[e("icon-font",{attrs:{name:t.pwdState?"icon-Icon_Eye":"icon-Icon_Closseeye",size:t.variables.login_regist_pwd_icon_size}})],1)])],2),t.codeConfig.type?e(p.A,{staticClass:"form_field form_text_field",attrs:{label:t.$t("UI.Login_0_main_10"),"background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",type:"number",clearable:"",filled:"","hide-details":"",rounded:"",outlined:""},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}},[e("template",{slot:"append"},[e(l.A,{staticClass:"btn_radius",attrs:{height:t.variables.login_regist_code_btn_height,width:t.variables.login_regist_code_btn_width,color:"t_primary_dark_color",disabled:t.codeConfig.disabled},on:{click:function(e){return t.getCode()}}},[e("div",[t._v(t._s("mobileCode"===t.codeConfig.type?t.mobileCountDown.text:t.emailCountDown.text))])])],1)],2):t._e(),t.systemConfig.user_age_limit_switch?e("div",{staticClass:"birthday_limit"},[e("div",{staticClass:"age_title"},[t._v(t._s(t.$t("UI_Login_CPF_Birth")))]),e("div",{staticClass:"age_birthday"},[e("birthday-age",{model:{value:t.params.birthday,callback:function(e){t.$set(t.params,"birthday",e)},expression:"params.birthday"}})],1)]):t._e(),e("div",{staticClass:"register_clause receive_wrap"},[e("check-box",{model:{value:t.receiveClause,callback:function(e){t.receiveClause=e},expression:"receiveClause"}},[e("div",{staticClass:"check_text"},[t._v(" "+t._s(t.$t("UI_LOGIN_clause"))+" "),e("span",{staticClass:"register_title",on:{click:function(e){return e.stopPropagation(),t.serviceLinkClick.apply(null,arguments)}}},[t._v("  "+t._s(t.$t("UI_Terms_of_Service"))+" ")])])]),e("check-box",{model:{value:t.receiveMarketing,callback:function(e){t.receiveMarketing=e},expression:"receiveMarketing"}},[e("div",{staticClass:"check_text"},[t._v(" "+t._s("mobile"===t.btnIndex?t.$t("UI_LOGIN_tel_marketing"):t.$t("UI_LOGIN_email_marketing"))+" ")])])],1)],1),e(l.A,{staticClass:"login_btn btn_radius",attrs:{color:"t_primary_dark_color",width:"100%",height:t.variables.login_regist_btn_height},on:{click:t.onSubmit}},[e("div",{staticClass:"login_btn_text"},[t._v(t._s(t.$t("UI_Create_account")))])]),e("tips-box",{attrs:{isLogin:!1,cpfRegistData:t.cpf_regist_data},on:{loginRegisterSuccess:t.loginRegisterSuccess,close:t.closeParent}})]],2)},h=[],m=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cpf_regist"},[e(_.A,{ref:"form"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.isFirst,expression:"isFirst"}]},[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Login_CPF_id")))]),e("span",{staticClass:"color_red"},[t._v("*")])]),e(p.A,{ref:"textField",staticClass:"form_field",attrs:{placeholder:"000.000.000-00","background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc},on:{input:t.inputFn,blur:t.cpfBlur,focus:t.cpfFocus},model:{value:t.params.reg_bind_cpf,callback:function(e){t.$set(t.params,"reg_bind_cpf",e)},expression:"params.reg_bind_cpf"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend_cpf"},[e("icon-font",{attrs:{name:"icon-icon_mingpian",size:t.commonStyle(t.isApp?"line_input_cpf_icon_app_size":"line_input_cpf_icon_pc_size"),dark:t.commonStyle("line_input_cpf_icon_app_color")}})],1)]),e("template",{slot:"append"},[t.verifySuccess?e("div",{staticClass:"verify_text"},[e("icon-font",{attrs:{name:"icon-select",dark:t.variables.cpf_regist_verify_text_color}}),e("span",{staticClass:"verify_text_box"},[t._v(t._s(t.$t("UI_Account_Info4"))+" ")])],1):e(l.A,{staticClass:"btn_radius verify_btn",attrs:{height:t.variables.cpf_regist_verify_btn_height,width:t.variables.cpf_regist_verify_btn_width,color:"t_primary_dark_color"},on:{click:t.onVerify}},[t._v(" "+t._s(t.$t("UI_Login_CPF_Verification"))+" ")])],1)],2),e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Login_CPF_Surname")))]),e("span",{staticClass:"color_red"},[t._v("*")])]),e(p.A,{staticClass:"form_field",attrs:{placeholder:t.$t("UI_Login_CPF_Name"),height:t.variables.cpf_regist_fields_input_height_pc,"background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",disabled:t.cpfAutoVerify,clearable:"","single-line":"",solo:"",flat:"","hide-details":""},model:{value:t.params.name,callback:function(e){t.$set(t.params,"name",e)},expression:"params.name"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend_name"},[e("icon-font",{attrs:{name:"icon-renyuan",size:t.commonStyle(t.isApp?"line_input_name_icon_app_size":"line_input_name_icon_pc_size"),dark:t.commonStyle(t.isApp?"line_input_name_icon_app_color":"line_input_name_icon_pc_color")}})],1)])],2),[e("div",{staticClass:"birthday_limit"},[e("div",{staticClass:"age_title"},[t._v(t._s(t.$t("UI_Login_CPF_Birth")))]),e("div",{staticClass:"age_birthday",class:{fail:t.birthdayError}},[e("birthday-age",{attrs:{disabled:t.cpfAutoVerify},model:{value:t.params.birthday,callback:function(e){t.$set(t.params,"birthday",e)},expression:"params.birthday"}})],1)])],e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Gender")))]),e("span",{staticClass:"color_red"},[t._v("*")])]),[e("div",{staticClass:"gender_box"},[e("RadioGroup",{model:{value:t.params.cpf_gender,callback:function(e){t.$set(t.params,"cpf_gender",e)},expression:"params.cpf_gender"}},t._l(t.radioList,(function(i,s){return e("RadioBox",{key:s,staticClass:"gender_box_radio_box",attrs:{value:i.value,disabled:t.cpfAutoVerify,offIcon:"icon-weixuanzhong",onIcon:"icon-xuanzhong"}},[[e("div",{staticClass:"fields_radio_title"},[t._v(t._s(i.label))])]],2)})),1)],1)],e(l.A,{staticClass:"login_btn btn_radius",attrs:{color:"t_primary_dark_color",width:"100%",height:t.variables.login_regist_btn_height},on:{click:t.onSubmit}},[e("div",{staticClass:"login_btn_text"},[t._v(t._s(t.$t("UI_Login_CPF_Continue")))])])],2),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.isFirst,expression:"!isFirst"}]},[t.systemConfig?.cpf_fields_switch_arr?.cpf_tel_switch?[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_LOGIN_Phone")))]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_tel_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{placeholder:t.$t("UI_LOGIN_Phone"),rules:t.verificationPhone,"background-color":"t_login_input_bg",color:"t_text_color_3",type:"number",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc},model:{value:t.formParams.cpf_tel,callback:function(e){t.$set(t.formParams,"cpf_tel",e)},expression:"formParams.cpf_tel"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"form_field_phone"},[e("icon-font",{attrs:{name:"icon-Icon_info",size:t.commonStyle(t.isApp?"line_input_phone_icon_app_size":"line_input_phone_icon_pc_size"),dark:t.commonStyle(t.isApp?"line_input_phone_icon_app_color":"line_input_phone_icon_pc_color")}}),e("user-select",{attrs:{value:t.formParams.area,userIcon:t.$u.optionalChaining(t.phonePlaces[0],"flag"),list:t.phonePlaces},on:{change:e=>t.formParams.area=e.code}})],1)])],2)]:t._e(),t.systemConfig?.cpf_fields_switch_arr?.cpf_email_switch?[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_LOGIN_Mail")))]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_email_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{label:t.$t("UI_LOGIN_Mail"),rules:t.verificationEmail,"background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc},model:{value:t.formParams.cpf_email,callback:function(e){t.$set(t.formParams,"cpf_email",e)},expression:"formParams.cpf_email"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend_email"},[e("icon-font",{attrs:{name:"icon-InBox_2",size:t.commonStyle(t.isApp?"line_input_email_icon_app_size":"line_input_email_icon_pc_size"),dark:t.commonStyle((t.isApp,"line_input_email_icon_app_color"))}})],1)])],2)]:t._e(),t.systemConfig?.cpf_fields_switch_arr?.cpf_postal_code_switch?[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Postal")))]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_postal_code_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{placeholder:"ex.70297-400","background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc},on:{blur:t.addressBlur,input:t.addressInput},model:{value:t.formParams.cpf_postal_code,callback:function(e){t.$set(t.formParams,"cpf_postal_code",e)},expression:"formParams.cpf_postal_code"}},[2==t.systemConfig?.cpf_check_auto_fill_address_switch?e("template",{slot:"append"},[t.addressVerifySuccess?e("div",{staticClass:"verify_text"},[e("icon-font",{attrs:{name:"icon-select",dark:t.variables.cpf_regist_verify_text_color}}),e("span",{staticClass:"verify_text_box"},[t._v(t._s(t.$t("UI_Account_Info4"))+" ")])],1):e(l.A,{staticClass:"btn_radius verify_btn",attrs:{height:t.variables.cpf_regist_verify_btn_height,width:t.variables.cpf_regist_verify_btn_width,color:"t_primary_dark_color"},on:{click:t.onAddressVerify}},[t._v(" "+t._s(t.$t("UI_Login_CPF_Verification"))+" ")])],1):t._e()],2)]:t._e(),t.systemConfig?.cpf_fields_switch_arr?.cpf_street_switch?[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Street"))+" ")]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_street_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{placeholder:"ex.Rua das Flores,12 -apto 201,ltaipú","background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc,disabled:t.cpfStreetFn},model:{value:t.formParams.cpf_street,callback:function(e){t.$set(t.formParams,"cpf_street",e)},expression:"formParams.cpf_street"}})]:t._e(),t.systemConfig?.cpf_fields_switch_arr?.cpf_complement_switch?[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Complement")))]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_complement_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{"background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc},model:{value:t.formParams.cpf_complement,callback:function(e){t.$set(t.formParams,"cpf_complement",e)},expression:"formParams.cpf_complement"}})]:t._e(),e("div",{staticClass:"form_across"},[t.systemConfig?.cpf_fields_switch_arr?.cpf_city_switch?e("div",{staticClass:"form_across_item"},[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_City")))]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_city_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{placeholder:"ex. Säo Paulo","background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc,disabled:t.isCpfCItyFn},model:{value:t.formParams.cpf_city,callback:function(e){t.$set(t.formParams,"cpf_city",e)},expression:"formParams.cpf_city"}})],1):t._e(),t.systemConfig?.cpf_fields_switch_arr?.cpf_district_switch?e("div",{staticClass:"form_across_item"},[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Estado")))]),2==t.systemConfig?.cpf_fields_switch_arr?.cpf_district_switch?e("span",{staticClass:"color_red"},[t._v("*")]):t._e()]),e(p.A,{staticClass:"form_field",attrs:{placeholder:"ex.Goiás","background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",height:t.variables.cpf_regist_fields_input_height_pc,disabled:t.isDistrictFn},model:{value:t.formParams.cpf_district,callback:function(e){t.$set(t.formParams,"cpf_district",e)},expression:"formParams.cpf_district"}})],1):t._e()]),t.systemConfig?.cpf_fields_switch_arr?.cpf_country_switch?[e("div",{staticClass:"text_field"},[e("span",[t._v(t._s(t.$t("UI_Country")))])]),e(p.A,{staticClass:"form_field",attrs:{label:"Country","background-color":"t_login_input_bg",color:"t_text_color_3",type:"text",clearable:"","single-line":"",solo:"",flat:"","hide-details":"",disabled:"",height:t.variables.cpf_regist_fields_input_height_pc},model:{value:t.formParams.cpf_country,callback:function(e){t.$set(t.formParams,"cpf_country",e)},expression:"formParams.cpf_country"}})]:t._e(),e("div",{staticClass:"btn_box"},[e(l.A,{staticClass:"cpf_btn_continue btn_radius",attrs:{color:"t_primary_dark_color",width:"100%",height:t.variables.login_regist_btn_height},on:{click:t.onContinue}},[e("div",{staticClass:"login_btn_text"},[t._v(t._s(t.$t("UI_Login_CPF_Continue")))])]),e(l.A,{staticClass:"cpf_btn_return btn_radius",attrs:{width:"100%",height:t.variables.login_regist_btn_height},on:{click:t.onReturn}},[e("div",{staticClass:"login_btn_text"},[t._v(t._s(t.$t("UI_Return")))])])],1)],2)])],1)},g=[],f=i(56765),u=i(8595),b=i(28633),v=i(30636),w=i(16066),y=i(81715),C=i(58725),k={props:{},data(){return{variables:c.A,birthdayError:!1,radioList:[{label:this.$t("UI_Male"),value:1},{label:this.$t("UI_Female"),value:2}],params:{reg_bind_cpf:"",name:"",birthday:"2000-11-13",cpf_gender:1},formParams:{cpf_tel:"",cpf_email:"",cpf_postal_code:"",cpf_district:"",cpf_complement:"",cpf_city:"",cpf_street:"",cpf_country:"Brasil"},verifySuccess:!1,isFirst:!0,cpfAutoVerify:!1,cpfAddressAutoVerify:!1,addressVerifySuccess:!1,cpf_street_verify_value:"",isCpfVerifyPass:!1}},components:{birthdayAge:f.A,RadioBox:u.A,RadioGroup:b.A,inputAutocompleteSuffix:v.A,UserSelect:w.A},computed:{...(0,o.aH)("source",["phonePlaces"]),...(0,o.aH)("base",["isApp","user","systemConfig","languageType"]),verificationEmail(){return[t=>!!t||this.$t("UI_LOGIN_emailEmpty"),t=>t&&(0,C.xf)(t)||this.$t("UI_LOGIN_emailFormat")]},verificationPhone(){return[t=>!!t||this.$t("UI.System_inputPhone"),t=>t&&!(0,C.tp)(t)||this.$t("UI.Phone_Format_Error")]},isCpfCItyFn(){return this.cpfAddressAutoVerify&&""!=this.formParams.cpf_city},isDistrictFn(){return this.cpfAddressAutoVerify&&""!=this.formParams.cpf_district},cpfStreetFn(){return this.cpfAddressAutoVerify&&""!=this.formParams.cpf_street}},mounted(){this.cpfAutoVerify=!1,this.isFirst=!0},methods:{commonStyle:(t="")=>c.A[t],async onVerify(){if(this.cpfBlur(),!this.params.reg_bind_cpf)return void this.$pop.message().show({content:this.$t("UI_Login_CPF_PleaseEnter")});let t=await(0,y.RN)({req_type:0,reg_bind_cpf:this.$u.againstCPF(this.params.reg_bind_cpf),language:this.languageType}).catch((t=>t));if(0!=t.code)return void this.$pop.message().show({content:t?.msg});const{data:e={}}=t;if(1==this.systemConfig?.cpf_check_auto_fill_switch&&(this.cpfAutoVerify=!0,this.params.cpf_gender=e.cpf_gender,this.params.name=e.name,e?.birthday)){const t=e?.birthday.split("/");this.params.birthday=t[2]+"-"+t[1]+"-"+t[0]}this.verifySuccess=!0},addressBlur(){if(this.cpf_street_verify_value==this.formParams.cpf_postal_code)return;if(this.cpf_street_verify_value=this.cpf_street_verify_value,this.isCpfVerifyPass&&this.systemConfig?.cpf_check_auto_fill_address_switch)return void this.onAddressVerify();let t=this.formParams.cpf_postal_code;t&&(t=t.replace(/'-'/g,"")),(this.formParams.cpf_postal_code&&8==t.length&&1==this.systemConfig?.cpf_check_auto_fill_address_switch||this.addressVerifySuccess&&this.systemConfig?.cpf_check_auto_fill_address_switch)&&this.onAddressVerify()},addressInput(t){let e="";t&&(e=t.replace(/[^0-9-]/g,"")),setTimeout((()=>{this.formParams.cpf_postal_code=e}),10)},async onAddressVerify(){let t=this.formParams.cpf_postal_code;if(t=t.replace(/''/g,"-"),""==t.trim()&&!this.addressVerifySuccess)return;let e=await(0,y.uJ)({zipcode:this.formParams.cpf_postal_code,language:this.languageType}).catch((t=>t));if(0!=e.code)return this.$pop.message().show({content:e?.msg}),this.formParams.cpf_city="",this.formParams.cpf_country="Brasil",this.formParams.cpf_district="",this.formParams.cpf_street="",this.cpfAddressAutoVerify=!1,void(this.addressVerifySuccess=!1);const{data:i={}}=e;this.formParams.cpf_city=i.cpf_city,this.formParams.cpf_country=i.cpf_country,this.formParams.cpf_district=i.cpf_district,this.formParams.cpf_street=i.cpf_street,this.cpfAddressAutoVerify=!0,this.addressVerifySuccess=!0,this.isCpfVerifyPass=!0},cpfBlur(){let t=this.$u.createCPF(this.params.reg_bind_cpf);this.params.reg_bind_cpf=t},cpfFocus(){let t=this.$u.againstCPF(this.params.reg_bind_cpf);this.params.reg_bind_cpf=t},inputFn(t){let e=t.replace(/[^0-9]/g,"");setTimeout((()=>{this.params.reg_bind_cpf=e}),10)},onSubmit(){this.verifySuccess?""!=this.params.name.trim()?(1!=this.systemConfig?.cpf_fields_switch_arr?.cpf_fields_show_switch&&this.$emit("onCpfSubmit",{...this.params,birthday:this.params.birthday.replace(/-/g,"/"),reg_bind_cpf:this.$u.againstCPF(this.params.reg_bind_cpf)}),this.isFirst=!1):this.$pop.message().show({content:this.$t("UI_Login_CPF_PleaseName")}):this.$pop.message().show({content:this.$t("UI_Login_CPF_PleaseEnter")})},onContinue(){this.isFirst=!1,2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_tel_switch||""!=this.formParams.cpf_tel.trim()?this.formParams.cpf_tel.trim()&&(0,C.tp)(this.formParams.cpf_tel)?this.$pop.message().show({content:this.$t("UI.Phone_Format_Error")}):2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_email_switch||""!=this.formParams.cpf_email.trim()?!this.formParams.cpf_email.trim()||(0,C.xf)(this.formParams.cpf_email)?2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_postal_code_switch||this.formParams.cpf_postal_code.trim()?2!=this.systemConfig?.cpf_check_auto_fill_address_switch||this.addressVerifySuccess?2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_street_switch||""!=this.formParams.cpf_street.trim()?2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_complement_switch||""!=this.formParams.cpf_complement.trim()?2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_city_switch||""!=this.formParams.cpf_city.trim()?2!=this.systemConfig?.cpf_fields_switch_arr?.cpf_district_switch||""!=this.formParams.cpf_district.trim()?this.$emit("onCpfSubmit",{cpf_extra_info:{...this.formParams},birthday:this.params.birthday.replace(/-/g,"/"),name:this.params.name,reg_bind_cpf:this.$u.againstCPF(this.params.reg_bind_cpf),cpf_gender:this.params.cpf_gender}):this.$pop.message().show({content:this.$t("UI_CPF_State_Empty")}):this.$pop.message().show({content:this.$t("UI_CPF_City_Empty")}):this.$pop.message().show({content:this.$t("UI_CPF_complement_Empty")}):this.$pop.message().show({content:this.$t("UI_CPF_Add_Empty")}):this.$pop.message().show({content:this.$t("UI_CPF_Need_Verify")}):this.$pop.message().show({content:this.$t("UI_CPF_Postal_Empty")}):this.$pop.message().show({content:this.$t("UI_LOGIN_emailFormat")}):this.$pop.message().show({content:this.$t("UI.System_45")}):this.$pop.message().show({content:this.$t("UI.System_inputPhone")})},onReturn(){this.isFirst=!0}}},S=k,x=i(845),I=(0,x.A)(S,m,g,!1,null,"4f1a6c68",null),$=I.exports,P=i(19075),T=i(58843),L=i(13230),A=i(13293),U=i(66105),R=i(75754),F=i(39329),B=function(){var t=this,e=t._self._c;return t.isShowLogin.google||t.isShowLogin.facebook||t.isShowLogin.telegram?e("div",{staticClass:"comp tip_box"},[e("div",{staticClass:"text_single"},[e("span",[t._v(t._s(t.$t("UI_BONTTOM_BYTIT")))]),e("a",{staticClass:"text_single_clause",attrs:{href:t.serviceLink,target:"_blank"},on:{click:function(t){t.stopPropagation()}}},[t._v("  "+t._s(t.$t("UI_Terms_of_Service"))+" ")])]),e("div",{staticClass:"flex_row divider_wrap"},[e("div",{staticClass:"line"}),e("div",{staticClass:"divider_text"},[t._v(t._s(t.$t("UI_LOGIN_inscreca")))]),e("div",{staticClass:"line"})]),e("div",{staticClass:"tripartite_wrap"},[!this.isMinmiApp&&t.isShowLogin.facebook?e("div",{staticClass:"tool_icon",on:{click:t.showFacebook}},[e("icon-font",{attrs:{name:"icon-Icon_FaceBook1",size:t.variables.tip_box_tripartite_icon_size}})],1):t._e(),!this.isMinmiApp&&t.isShowLogin.google?e("div",{staticClass:"tool_icon",on:{click:t.showGoogle}},[e("icon-font",{attrs:{name:"icon-Icon_Google",size:t.variables.tip_box_tripartite_icon_size}})],1):t._e(),t.isShowLogin.telegram?e("div",{staticClass:"tool_icon",on:{click:t.showTelegram}},[e("icon-font",{attrs:{name:"icon-icon_telegreat",size:t.variables.tip_box_tripartite_icon_size}})],1):t._e()]),t.thirdDialogState?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"tripartite_dialog",staticStyle:{display:"none"}},[e("div",{staticClass:"wrapper-mask",on:{click:t.onClose}}),e("div",{staticClass:"tripartite_box"},[e("div",{ref:"tripartitePopRef",staticClass:"tripartite_pop dialog_radius"},[e("div",{staticClass:"tripartite_box_title w_100 text_center"},[t._v(" "+t._s(t.$t("General.General_9"))+" "),e("div",{staticClass:"close_icon cursor_point d-flex align-center",on:{click:t.onClose}},[e("icon-font",{attrs:{name:"icon-Icon_Cloose",size:t.variables.tip_box_tripartite_dialog_close_icon_size}})],1)]),e("div",{staticClass:"w_100 tripartite_box_body"},[e("div",{staticClass:"text_center tripartite_box_body_text"},[t._v(" "+t._s(t.tripartiteText)+" ")]),e("div",{staticClass:"tripartite_box_body_btn"},[1==t.loginType?e("g-signin-button",{attrs:{params:t.googleSignInParams},on:{success:t.onGSignInSuccess,error:t.onGSignInError}},[e(l.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",id:"googleId",height:t.variables.tip_box_tripartite_dialog_body_btn_height}},[e("icon-font",{attrs:{name:"icon-Icon_Google",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Google_btn")))])],1)],1):t._e(),t.android||2!=t.loginType?t._e():e("fb-signin-button",{attrs:{params:t.fbSignInParams},on:{success:t.onFBSignInSuccess,error:t.onFBSignInError}},[e(l.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",id:"fbId",height:t.variables.tip_box_tripartite_dialog_body_btn_height}},[e("icon-font",{attrs:{name:"icon-Icon_FaceBook2",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Facebook_btn")))])],1)],1),t.android&&2==t.loginType?e(l.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",height:t.variables.tip_box_tripartite_dialog_body_btn_height},on:{click:t.loginFaceBook}},[e("icon-font",{attrs:{name:"icon-Icon_FaceBook2",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Facebook_btn")))])],1):t._e(),4==t.loginType?e(l.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",id:"telegramId",height:t.variables.tip_box_tripartite_dialog_body_btn_height},on:{click:t.loginTelegram}},[e("icon-font",{attrs:{name:"icon-icon_telegreat",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Telegram_btn")))])],1):t._e()],1)])])])]):t._e()]):t._e()},E=[],z=i(61384),D=(i(6294),i(90063)),G=i(40794),N={props:{isLogin:Boolean,cpfRegistData:{type:Object,default:()=>({})}},data(){return{variables:c.A,iconSize:36,thirdDialogState:!0,loginType:1,faceScope:{},faceFB:{},faceModel:{},serviceLink:"",fbSignInParams:{scope:"email,user_likes",return_scopes:!0},googleSignInParams:{client_id:z._9},android:window.android,isMinmiApp:(0,C.p7)()}},computed:{...(0,o.aH)("base",["isApp","user","systemConfig","languageType"]),...(0,o.L8)("base",["getShowConfig"]),tripartiteText(){const t={1:"UI_Google_text",2:"UI_Facebook_text",4:"UI_Telegram_text"},e=t[this.loginType];return this.$t(e)},isShowLogin(){const t=1==this.getShowConfig("google_login"),e=1==this.getShowConfig("facebook_btn"),i=1==this.getShowConfig("telegram_login");return{google:t,facebook:e,telegram:i}}},mounted(){const{privacy:t=""}=this.systemConfig;this.serviceLink=t,this.android?window.android.callScript=this.callScript:window.fbAsyncInit=function(){FB.init({appId:z.Zt,cookie:!0,xfbml:!0,version:"v2.8"}),FB.AppEvents.logPageView()},this.initSDKScript()},methods:{initSDKScript(){const t=function(t,e){var i,s=document.getElementsByTagName("script")[0];document.getElementById(e)||(i=document.createElement("script"),i.id=e,i.src=t,s.parentNode.insertBefore(i,s))};this.android||t("https://connect.facebook.net/en_US/sdk.js","facebook-jssdk"),t("https://telegram.org/js/telegram-widget.js","telegram-widget")},callScript(t,e){if("loginFaceBookSuccess"===t){const t=JSON.parse(e);let i={nickname:t.name,third_token:t.uid,appid:t.appid||"",access_token:t.accessToken||""};this.submitLogin(i)}},loginFaceBook(){this.$u.callJava("loginFaceBook")},showGoogle(){!(0,T.b)(1)||this.isLogin?(this.thirdDialogState=!0,this.$u.callJava("openInternalWindow",{value:!0}),this.loginType=1,this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.insert(t)})),this.$nextTick((()=>{let t=document.getElementById("googleId");t.click()}))):this.$pop.guideInstall().show()},onGSignInSuccess(t){let e={nickname:t.getBasicProfile().getName(),third_token:t.getBasicProfile().getId(),headimg:t.getBasicProfile().getImageUrl(),third_account:t.getBasicProfile().getEmail(),third_jwt:t.getAuthResponse().id_token,login_type:1};this.submitLogin(e)},onGSignInError(t){this.thirdDialogState=!1,this.$pop.message().show({content:this.$t("UI_externo_login")})},showFacebook(){!(0,T.b)(1)||this.isLogin?(this.thirdDialogState=!0,this.loginType=2,this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.insert(t)})),this.android?this.loginFaceBook():this.$nextTick((()=>{let t=document.getElementById("fbId");t.click()}))):this.$pop.guideInstall().show()},onFBSignInSuccess(t){FB.api("/me",(t=>{let e={nickname:t.name,third_token:t.id,appid:t.appid||"",access_token:t.accessToken||""};this.submitLogin(e)}))},onFBSignInError(t){this.thirdDialogState=!1,this.$pop.message().show({content:this.$t("UI_externo_login")})},showTelegram(){!(0,T.b)(1)||this.isLogin?(this.android&&this.$u.callJava("openInternalWindow",{value:!0}),this.thirdDialogState=!0,this.loginType=4,this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.insert(t)})),this.$nextTick((()=>{this.isMinmiApp?this.submitLogin({login_type:4,third_type:G.Vq.TG_Mini}):this.loginTelegram()}))):this.$pop.guideInstall().show()},loginTelegram(){window.Telegram.Login.auth({bot_id:z.So,request_access:"write",embed:1},(t=>{if(!t)return;console.log("Telegram.Login.auth: ",t);const{first_name:e="",last_name:i="",photo_url:s,id:a,hash:o,auth_date:r}=t,n={nickname:e+i,headimg:s,third_account:a,third_jwt:o,auth_date:r,first_name:e,last_name:i,login_type:4,third_type:G.Vq.TG_Native,third_data:JSON.stringify(t)};this.submitLogin(n)}))},loadIcon:t=>(0,n.A)(t,!1),submitLogin(t){L.eH.getAjReporting();let e=this.$store.getters["base/getRootParams"],i=localStorage.getItem("source_type");const s=localStorage.getItem("agentid")||"";i||(i="");let a={deviceid:e.deviceid,platform:e.platform,mainVer:e.mainVer,subVer:e.subVer,pkgName:e.pkgName,language:e.language,agentid:s,source_type:i,third_token:t.third_token,nickname:t.nickname,headimg:t.headimg||"",third_account:t.third_account||"",third_jwt:t.third_jwt||"",login_type:t.login_type||"",auth_date:t.auth_date||"",first_name:t.first_name||"",last_name:t.last_name||"",appid:t.appid||"",access_token:t.access_token||"",domain:D.Un.baseURL()};1!=this.systemConfig.reg_cpf_control_switch||this.isLogin||(a={...a,...this.cpfRegistData}),4==this.loginType&&(a.third_type=t.third_type,this.isMinmiApp?(a.third_data=window?.Telegram?.WebApp?.initData,fetch("https://a231-8-210-218-24.ngrok-free.app/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({initData:a.third_data})})):a.third_data=t.third_data),this.isMinmiApp?a.login_source=G.fC.TG:(0,C.xx)()&&"ios"!=this.platform?a.login_source=G.fC.Pwa:a.login_source=G.fC.None,(0,y.Rr)({url:D.Un.baseURL(),form:a}).then((({code:e,data:i,msg:s})=>{if(0!=e)return this.$pop.message().show({content:s});const{token:a="",responsible_login_limit:o={}}=i,r=i.day_play_time||{},n=r.day_play_time||{};if(1==r.is_day_play_time)if(o&&Object.keys(o).length>0){const{limit_start_time:e=0,limit_end_time:i=0,edit_cd_time:s=0}=o;this.$pop.limitLogin({currentToken:a,startTime:e,endTime:i,editTime:s,error:()=>{this.submitLogin(t)}}).show()}else this.thirdDialogState=!1,this.$emit("loginRegisterSuccess",{data:i,isLogin:!0}),this.$emit("close");else{const t={currentToken:a,startH:n.start_hour,startM:n.start_min,endH:n.end_hour,endM:n.end_min,editTime:r?.edit_cd_time||0,error:()=>{this.submitLogin(t)}};this.$pop.disableLogin(t).show()}}))},onClose(){this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.close(t)})),setTimeout((()=>{this.thirdDialogState=!1,this.$u.callJava("openInternalWindow",{value:!1})}),z.Kq)}}},V=N,O=(0,x.A)(V,B,E,!1,null,"46cc35fe",null),M=O.exports,j=i(30274),H=i(78749),J=i.n(H),q=i(88062),K=i(64777),W=i(77747);function Y(){const t=new Date;return(0,P.Cy)({date:new Date(t.getFullYear()-18,t.getMonth(),t.getDate())})}let Z=!0;var X={data(){return{isRemeber:Z,variables:c.A,pwdState:!1,btnIndex:"mobile",emailSuffix:["@gmail.com","@hotmail.com","@outlook.com","@live.com","@icloud.com","@yahoo.com","@protonmail.com","@gmx.com","@mail.com","@sinos.net"]}},components:{BtnTab:U.A,LoginMultiCurrency:R.A,TipsBox:M,UserSelect:w.A,CheckBox:F.A,InputAutocompleteSuffix:v.A},watch:{isRemeber(t){Z=t}},computed:{...(0,o.aH)("base",["systemConfig","languageType"]),...(0,o.aH)("source",["phonePlaces"]),...(0,o.L8)("base",["getRootParams"]),extroPrams(){return{...this.getRootParams,pixelid:(0,j.e8)(),domain:D.Un.baseURL(),link_source:this.$route.query.link_source||W.s.get("link_source")||"",source_type:localStorage.getItem("source_type")||""}}},mounted(){this.btnIndex=this.tabs?.[0]?.value,this.getSession(),"login"===this.mixinsScene&&(this.isRemeber=Z=!0)},methods:{removeSapces(t=""){return String(t).replace(/\s+/g,"")},changeTab({item:t={}}){this.btnIndex=t.value,"login"===this.mixinsScene&&this.getSession()},closeDialog(){this.$store.commit("modal/SET_LOGIN_REGIST_SHOW",!1)},clearUserInfo(){this.params.tel="",this.params.area=this.phonePlaces[0]?.code,this.params.email="",this.params.password="",this.params.code="","register"===this.mixinsScene&&(this.params.birthday=Y())},getSession(){if(!localStorage.getItem("webLoginCode")||"register"===this.mixinsScene)return void this.clearUserInfo();const{mail_account:t,mail_password:e,phone_account:i,phone_password:s,code:a}=JSON.parse(localStorage.getItem("webLoginCode"));"mobile"==this.btnIndex?(this.params.tel=i,this.params.area=a||this.phonePlaces[0]?.code,this.params.password=i?A.o4.decode(s):""):(this.params.email=t,this.params.password=t?A.o4.decode(e):"")},setSession(t,e){const i=this.isRemeber?A.o4.encode(e.password||e.pwd):"",s={code:t.code||this.phonePlaces[0]?.code,mail_account:t.account,phone_account:t.tel,mail_password:i,phone_password:i};localStorage.setItem("webLoginCode",JSON.stringify(s))},loginLimit(t={}){const{is_day_play_time:e,edit_cd_time:i,day_play_time:s}=t?.day_play_time||{},{start_hour:a,start_min:o,end_hour:r,end_min:n}=s||{};if(1!=e){const e={startH:a,startM:o,endH:r,endM:n,editTime:i,currentToken:t.token,error:this.onSubmit};return this.$pop.disableLogin(e).show(),!0}const{responsible_login_limit:c={},token:l=""}=t;if(c&&Object.keys(c).length>0){const{limit_start_time:t=0,limit_end_time:e=0,edit_cd_time:i=0}=c;return this.$pop.limitLogin({currentToken:l,startTime:t,endTime:e,editTime:i,error:()=>{this.onSubmit()}}).show(),!0}},handleLoginLog(){(0,j.$s)(j.tV.login)},handleRegistrationLog(){(0,C.W2)(this.systemConfig,"register"),(0,j.$s)(j.tV.registration),setTimeout((()=>{this.handleLoginLog()}),500)},async loginRegisterSuccess({data:t={}}){const{token:e="",apk_info:i={apk_send_gold:0,apk_show_switch:0},pixelid:s}=t;this.$store.commit("base/SET_SHOW_RED_DOT",{}),this.$store.commit("base/SET_USER",t),this.$store.commit("base/SET_USER_HISTORY",t),(0,K._)(this),this.$store.commit("base/SET_APK_ACTIVITY_GOLD",i),this.$store.dispatch("base/getAjNoticeFun");const a="login"===this.mixinsScene?this.handleLoginLog:this.handleRegistrationLog;a(),"login"===this.mixinsScene&&s&&(0,j.IG)(j.yX.facebook),this.$store.dispatch("responsible/getFeatureInfo",{token:e,language:this.languageType,callback:()=>{this.$store.dispatch("responsible/renewRemindStorage",{sign:"login",data:t})}}),await this.$store.dispatch("base/showRedDotReceivedFun",{version:1,token:e,language:this.languageType}).catch((t=>t)),await this.$store.dispatch("source/getActivityConfigFn",{token:e,language:this.languageType}).catch((t=>t)),await this.$store.dispatch("base/getRegressionDialog",{token:e,language:this.languageType}).catch((t=>t)),await this.$store.dispatch("common/getVipSignList"),J().publish(q.A.UPDATE_EMAIL),J().publish(this.$store.state?.dialog?.DUALOG_MANAGER_CLEAR),this.$nextTick((()=>{J().publish(this.$store.state?.dialog?.DUALOG_MANAGER_KEY,this.$route.name)}))}}},Q={components:{CpfRegist:$,BirthdayAge:f.A},mixins:[X],data(){return{mixinsScene:"register",receiveClause:!0,receiveMarketing:!0,isCpfVerify:!1,cpf_regist_data:{},params:{tel:"",area:"",email:"",password:"",code:"",birthday:Y()},mobileCountDown:{timer:null,text:this.$t("UI.Login_0_main_10"),time:0},emailCountDown:{timer:null,text:this.$t("UI.Login_0_main_10"),time:0}}},computed:{...(0,o.aH)("base",["systemConfig","adJustKey","deviceid"]),...(0,o.L8)("base",["getRootParams"]),...(0,o.L8)("common",["isMultiSiteShow","pageMultiSiteSwitch"]),tabs(){let t=this.systemConfig?.reg_login_weight_conf||[];return t.reduce(((t,e)=>(1==e.status&&t.push({value:e.key,name:"email"==e.key?this.$t("UI_LOGIN_Mail"):this.$t("UI_LOGIN_Phone"),weight:e.weight}),t)),[]).sort(((t,e)=>e.weight-t.weight))},agentid(){if(this.adJustKey){const{trackerName:t,trackerToken:e}=this.adJustKey;return{agentid:e,trackerName:t}}let t=localStorage.getItem("agentid");return t&&"null"!=t||(t=""),{agentid:t}},codeConfig(){const{user_mobile_reg_switch:t,user_email_reg_switch:e}=this.systemConfig||{};return"mobile"===this.btnIndex&&t?{type:"mobileCode",disabled:!this.params.tel}:"email"===this.btnIndex&&e?{type:"emailCode",disabled:!this.params.email||!(0,C.xf)(this.params.email)}:{}}},mounted(){this.systemConfig.reg_cpf_control_switch&&(this.isCpfVerify=!0)},beforeDestroy(){this.mobileCountDown.timer&&clearInterval(this.mobileCountDown.timer),this.emailCountDown.timer&&clearInterval(this.emailCountDown.timer)},methods:{closeDialog(){this.$store.commit("modal/SET_LOGIN_REGIST_SHOW",!1)},onCpfSubmit(t){t.birthday&&(t.birthday=new Date(t.birthday).getTime()),this.cpf_regist_data=t,this.isCpfVerify=!1},async getCode(){const{disabled:t,type:e}=this.codeConfig;if(t)return;let i=this.emailCountDown;const{language:s}=this.getRootParams,a={email:this.params.email,language:s,device_id:this.deviceid,type:0};let o=y._0;if("mobileCode"===e){o=y.pS;const t=String(this.params.area).replace(/[\s+]+/g,"")||this.phonePlaces[0]?.code.replace("+","");delete a.email,a.area=t,a.tel=t+this.params.tel,i=this.mobileCountDown}if(i.time>0)return;const{code:r,msg:n,data:c}=await o(a).catch((t=>t));0==r&&(i.time=c||60,i.text=i.time+"s",i.timer=setInterval((()=>{if(i.time>0)return i.text=i.time+"s",void i.time--;i.text=this.$t("UI.Login_0_main_10"),clearInterval(i.timer),i.timer=null}),1e3)),this.$pop.message().show({content:n})},serviceLinkClick(){setTimeout((()=>window.open(this.systemConfig.privacy,"_blank")))},async onSubmit(){if((0,T.b)(1))return void this.$pop.guideInstall().show();if(!this.receiveClause||!this.receiveMarketing)return this.$pop.message().show({content:this.$t("UI_Register_Clause")});let{tel:t="",area:e="",email:i="",code:s="",password:a="",birthday:o}=this.params;if(a=this.removeSapces(a),!this.$u.isPwdCheck(a))return this.$pop.message().show({content:this.$t("UI.Pwd_Format_Check_Text")});if(this.systemConfig.user_age_limit_switch){if(!(0,P.JY)(Y(),o))return this.$pop.message().show({content:this.$t("UI_Birth_Invalid")});o=+new Date(o)/1e3}L.eH.getAjReporting();let r={account:this.removeSapces(i),pwd:a,login_type:2,birthday:o,code:this.removeSapces(s),...this.extroPrams,...this.cpf_regist_data};"mobile"===this.btnIndex&&(e=String(e).replace(/[\s+]+/g,"")||this.phonePlaces[0]?.code.replace("+",""),r.area=e,r.tel=e+t,r.login_type=1),"ios"==this.platform&&(r.ioswebclip=Number(!!window.navigator?.standalone)),this.$pop.loading().show();let{code:n,data:c,msg:l}=await(0,y.kz)(r).catch((t=>t));if(this.$pop.loading().hide(),0!=n)return this.$pop.message().show({content:l});this.setSession(c,r),this.closeDialog(),this.$emit("loginSuccess"),this.loginRegisterSuccess({data:c})},closeParent(){this.handleRegistrationLog(),this.$emit("close")}}},tt=Q,et=(0,x.A)(tt,d,h,!1,null,"b2e6aa90",null),it=et.exports,st=function(){var t=this,e=t._self._c;return e("div",{staticClass:"login_box_container"},[t.tabs.length>1?e("div",{staticClass:"btn_tab_wrap"},[e("btn-tab",{attrs:{width:t.variables.login_model_simple_tab_container_btn_tab_width,radius:t.variables.login_model_simple_tab_container_btn_tab_radius,"tag-list":t.tabs,type:t.btnIndex},on:{changeTab:t.changeTab}})],1):t._e(),e(_.A,{ref:"form",staticClass:"login_info",attrs:{"lazy-validation":""}},[t.isMultiSiteShow&&t.pageMultiSiteSwitch.includes(2)?e("login-multi-currency"):t._e(),"mobile"===t.btnIndex?e(p.A,{staticClass:"form_field form_text_field form_phone",attrs:{label:t.$t("UI.Login_0_main_1"),"background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",type:"number",clearable:"","hide-details":"",rounded:"",outlined:"",filled:""},model:{value:t.params.tel,callback:function(e){t.$set(t.params,"tel",e)},expression:"params.tel"}},[e("template",{slot:"prepend-inner"},[e("user-select",{attrs:{value:t.params.area,userIcon:t.$u.optionalChaining(t.phonePlaces[0],"flag"),list:t.phonePlaces},on:{change:e=>t.params.area=e.code}})],1)],2):t._e(),"email"===t.btnIndex?e("input-autocomplete-suffix",{staticClass:"email_wrap form_field form_text_field",attrs:{label:t.$t("UI_EnterMail"),"background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",clearable:"",rounded:"",outlined:"",filled:"",radius:t.variables.login_regist_field_radius,"suffix-list":t.emailSuffix,title:t.$t("UI_Login_Email_Suffix")},model:{value:t.params.email,callback:function(e){t.$set(t.params,"email",e)},expression:"params.email"}}):t._e(),e(p.A,{staticClass:"form_field form_text_field",attrs:{label:t.$t("UI.Login_0_main_2"),type:t.pwdState?"text":"password","background-color":"t_login_input_bg",color:"rgba(255, 255, 255, 0.4)",clearable:"","hide-details":"",rounded:"",outlined:"",filled:""},model:{value:t.params.password,callback:function(e){t.$set(t.params,"password",e)},expression:"params.password"}},[e("template",{slot:"append"},[e("div",{staticClass:"cursor_point",on:{click:function(e){t.pwdState=!t.pwdState}}},[e("icon-font",{attrs:{name:t.pwdState?"icon-Icon_Eye":"icon-Icon_Closseeye",size:t.variables.login_regist_pwd_icon_size}})],1)])],2),e("div",{staticClass:"checkbox_show remember_wrap"},[e("check-box",{model:{value:t.isRemeber,callback:function(e){t.isRemeber=e},expression:"isRemeber"}},[e("div",{staticClass:"check_text"},[t._v(t._s(t.$t("UI_LOGIN_remember")))])]),e("div",{staticClass:"warning_text cursor_point",on:{click:t.onForgotPwd}},[t._v(" "+t._s(t.$t("UI_LOGIN_forgetPwd"))+" ")])],1)],1),e(l.A,{staticClass:"login_btn btn_radius",attrs:{color:"t_primary_dark_color",width:"100%",height:t.variables.login_regist_btn_height},on:{click:t.onSubmit}},[e("div",{staticClass:"login_btn_text"},[t._v(t._s(t.$t("UI_Login")))])]),e("tips-box",{attrs:{isLogin:!0},on:{loginRegisterSuccess:t.loginRegisterSuccess,close:t.closeParent}}),e("forgot-pwd",{ref:"forgotPwdRef"})],1)},at=[],ot=function(){var t=this,e=t._self._c;return t.pwdShow?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}]},[e("div",{staticClass:"wrapper-mask",on:{click:t.onClose}}),e("div",{staticClass:"forgot_password"},[e("div",{ref:"forgotPwdRef",staticClass:"small_box dialog_radius"},[e("div",{staticClass:"forgot_title"},[e("span",{staticClass:"forgot_title_content"},[t._v(t._s(t.forgotTitle))]),e("icon-font",{staticClass:"forgot_title_icon cursor_point",attrs:{name:"icon-Icon_Cloose",size:t.variables.forgot_password_icon_size},on:{click:t.onClose}})],1),e(_.A,{ref:"form",staticClass:"forgot_form",attrs:{"lazy-validation":""}},["email"==t.sign?[t.emailPwd?[e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationCode,placeholder:t.$t("UI_LOGIN_promoCode"),height:t.variables.forgot_password_form_field_height,type:"number",color:"t_border_color","background-color":"t_input_bg",required:"",clearable:"","single-line":"",solo:"",flat:"","hide-details":"auto",outlined:"","validate-on-blur":!0},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend d-flex align-center"},[e("icon-font",{staticClass:"forgot_title_icon",attrs:{name:"icon-Icon_shield",size:t.variables.forgot_password_form_prepend_icon_size},on:{click:t.onClose}})],1)])],2),e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationPwd,placeholder:t.$t("UI.Login_0_main_2"),height:t.variables.forgot_password_form_field_height,type:t.pwdState?"text":"password",color:"t_border_color","background-color":"t_input_bg",required:"","single-line":"",solo:"",flat:"","hide-details":"auto",outlined:"","validate-on-blur":!0},on:{"click:append":function(e){t.pwdState=!t.pwdState}},model:{value:t.params.pwd,callback:function(e){t.$set(t.params,"pwd",e)},expression:"params.pwd"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend d-flex align-center"},[e("icon-font",{staticClass:"forgot_title_icon",attrs:{name:"icon-Icon_Lock",size:t.variables.forgot_password_form_prepend_icon_size},on:{click:t.onClose}})],1)])],2),e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationPwd_2,placeholder:t.$t("UI_Reset_pwd"),height:t.variables.forgot_password_form_field_height,type:t.pwdStateTow?"text":"password",color:"t_border_color","background-color":"t_input_bg",required:"","single-line":"",solo:"",flat:"","hide-details":"auto",outlined:"","validate-on-blur":!0},on:{"click:append":function(e){t.pwdStateTow=!t.pwdStateTow}},model:{value:t.params.pwd2,callback:function(e){t.$set(t.params,"pwd2",e)},expression:"params.pwd2"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend d-flex align-center"},[e("icon-font",{staticClass:"forgot_title_icon",attrs:{name:"icon-Icon_Lock",size:t.variables.forgot_password_form_prepend_icon_size},on:{click:t.onClose}})],1)])],2)]:[e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationEmail,placeholder:t.$t("UI.cashout_1_bank_12"),height:t.variables.forgot_password_form_field_height,color:"t_border_color","background-color":"t_input_bg",required:"",clearable:"","single-line":"",solo:"",flat:"","hide-details":"auto",outlined:"","validate-on-blur":!0},model:{value:t.params.email,callback:function(e){t.$set(t.params,"email",e)},expression:"params.email"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend d-flex align-center"},[e("icon-font",{staticClass:"forgot_title_icon",attrs:{name:"icon-Icon_InBox",size:t.variables.forgot_password_form_prepend_icon_size},on:{click:t.onClose}})],1)])],2)]]:"tel"==t.sign?[e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationTel,placeholder:t.$t("UI.Login_0_main_1"),height:t.variables.forgot_password_form_field_height,color:"t_border_color","background-color":"t_input_bg",required:"",type:"number","hide-details":"auto",clearable:"","single-line":"",solo:"",flat:"",outlined:"","validate-on-blur":!0},model:{value:t.params.tel,callback:function(e){t.$set(t.params,"tel",e)},expression:"params.tel"}},[e("template",{slot:"prepend-inner"},[e("user-select",{attrs:{value:t.params.area,userIcon:t.phonePlaces[0].flag,outlined:"",list:t.phonePlaces},on:{change:e=>t.params.area=e.code}})],1)],2),e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationPwd,placeholder:t.$t("UI.Login_0_main_2"),height:t.variables.forgot_password_form_field_height,type:t.pwdState?"text":"password",color:"t_border_color","background-color":"t_input_bg",required:"","single-line":"",solo:"",flat:"","hide-details":"auto",outlined:"","validate-on-blur":!0},on:{"click:append":function(e){t.pwdState=!t.pwdState}},model:{value:t.params.pwd,callback:function(e){t.$set(t.params,"pwd",e)},expression:"params.pwd"}},[e("template",{slot:"prepend-inner"},[e("div",{staticClass:"prepend d-flex align-center"},[e("icon-font",{staticClass:"forgot_title_icon",attrs:{name:"icon-Icon_Lock",size:t.variables.forgot_password_form_prepend_icon_size},on:{click:t.onClose}})],1)])],2),e(p.A,{staticClass:"field_text input_radius",attrs:{rules:t.verificationCode,color:"t_border_color","background-color":"t_input_bg",placeholder:t.$t("UI.Login_0_main_10"),height:t.variables.forgot_password_form_field_height,required:"",type:"number","hide-details":"auto","validate-on-blur":!0,outlined:"","single-line":"",solo:"",flat:""},model:{value:t.params.code,callback:function(e){t.$set(t.params,"code",e)},expression:"params.code"}},[e("template",{slot:"append"},[e(l.A,{staticClass:"text_code btn_radius",attrs:{height:t.variables.forgot_password_form_text_code_height,width:t.variables.forgot_password_form_text_code_width,disabled:!t.params.tel,color:"t_primary_dark_color"},on:{click:t.getCode}},[e("div",[t._v(t._s(t.countDown))])])],1)],2)]:t._e()],2),e("div",{staticClass:"forgot_btn"},[t.emailPwd?e("div",{staticClass:"confirm_btn"},[e(l.A,{staticClass:"btn_radius lt",attrs:{height:t.variables.forgot_password_footer_btn_height,width:t.variables.forgot_password_footer_back_btn_width,color:"t_btn_color_4",shaped:""},on:{click:t.emailClose}},[e("icon-font",{staticClass:"forgot_title_icon",attrs:{name:"icon-Icon_Back",size:t.variables.forgot_password_footer_back_btn_icon_size},on:{click:t.onClose}})],1),e(l.A,{staticClass:"confirm_btn_rigth btn_radius",attrs:{height:t.variables.forgot_password_footer_btn_height,color:"t_primary_dark_color"},on:{click:t.onSubmit}},[e("div",{staticClass:"forgot_btn_text"},[t._v(" "+t._s(t.$t("UI_Reset_pwd"))+" ")])])],1):e("div",{staticClass:"modify_btn"},[e(l.A,{staticClass:"btn_radius rt",attrs:{width:"100%",height:t.variables.forgot_password_footer_btn_height,color:"t_primary_dark_color"},on:{click:t.onConfirmEmail}},[e("div",{staticClass:"forgot_btn_text"},[t._v(" "+t._s(t.$t("UI_Reset_Password"))+" ")])])],1)])],1)]),t.recaptchaState?[e("vue-recaptcha-verify",{ref:"recaptchaRef",attrs:{titleText:t.$t("UI.Login_Regist_Tips"),contentText:t.$t("UI.Login_Regist_Content_Text")},on:{onSuccess:t.onSuccess,onBack:t.onBack},model:{value:t.recaptchaState,callback:function(e){t.recaptchaState=e},expression:"recaptchaState"}})]:t._e()],2):t._e()},rt=[],nt=i(95796),ct={components:{UserSelect:w.A,VueRecaptchaVerify:nt.A},data(){return{variables:c.A,pwdShow:!1,emailPwd:!1,forgotTitle:"",sign:"email",params:{tel:"",area:"",email:"",code:"",pwd:"",pwd2:""},pwdState:!1,pwdStateTow:!1,countDown:this.$t("UI.Login_0_main_10"),timerInterval:null,recaptchaState:!1,recaptcha:"",currentRecaptcha:1,verify_img_params:""}},computed:{...(0,o.aH)("layout",["containerBox"]),...(0,o.aH)("base",["isApp","user","languageType","systemConfig","deviceid"]),...(0,o.aH)("source",["phonePlaces"]),...(0,o.L8)("base",["getRootParams"]),verificationTel(){return[t=>!!t||this.$t("UI_reset_phone")]},verificationCode(){return[t=>!!t||this.$t("UI_reset_qwd_code")]},verificationEmail(){return[t=>!!t||this.$t("UI_LOGIN_emailEmpty"),t=>t&&(0,C.xf)(t)||this.$t("UI_LOGIN_emailFormat")]},verificationPwd(){return[t=>!!t||this.$t("UI_LOGIN_passwordEmpty"),t=>this.$u.isPwdCheck(t)||this.$t("UI.Pwd_Format_Check_Text")]},verificationPwd_2(){return[t=>!!t||this.$t("UI_LOGIN_resetPwdEmpty"),t=>t&&this.params.pwd==t||this.$t("UI_LOGIN_resetPwdDif")]}},methods:{loadIcon:t=>(0,n.A)(t,!1),open({sign:t="email",par:e={}}){return new Promise(((i,s)=>{this.resolve=i,this.reject=s;const{tel:a="",area:o="",email:r=""}=e;this.params.tel=a,this.params.area=o,this.params.email=r,this.params.code="",this.params.pwd="",this.params.pwd2="",this.sign=t,this.emailPwd=!1,this.forgotTitle=this.$t("UI.Login_0_main_3"),this.pwdShow=!0,this.pwdState=!1,this.pwdStateTow=!1,this.$nextTick((()=>{const t=this.$refs["forgotPwdRef"];t&&this.$anim.insert(t)}))}))},onClose(){this.$nextTick((()=>{const t=this.$refs["forgotPwdRef"];t&&this.$anim.close(t),setTimeout((()=>{this.resolve("cancel"),this.pwdShow=!1}),z.Kq)}))},emailClose(){this.emailPwd=!1},async getCode(){if(!this.params.tel)return;if(this.codeValue>0)return;const{language:t}=this.getRootParams,{tel:e="",area:i=""}=this.params;let s=i.replace("+","");s=C.CM.isBlank(s)?this.phonePlaces[0]?.code.replace("+",""):s;const a={area:s,tel:s+""+e,type:2,language:t,device_id:this.deviceid};this.recaptchaState&&(a.recaptcha=this.recaptcha),this.verify_img_params&&(a.verify_img_params=this.verify_img_params),this.verify_img_params="";const o=await(0,y.pS)(a).catch((t=>t)),{code:r,msg:n="",data:c}=o;if(o&&0==o.code&&(this.codeValue=c||60,this.countDown=this.codeValue+"s",this.timerInterval=setInterval((()=>{this.codeValue>0?(this.countDown=this.codeValue+"s",this.codeValue--):(this.countDown=this.$t("UI.Login_0_main_10"),clearInterval(this.timerInterval),this.timerInterval=null)}),1e3)),o&&300==o.code)return this.currentRecaptcha=2,void(this.recaptchaState=!0);if(o&&301==o.code){const{code:t="",img:e="",url:i=""}=c||{},s=await this.$pop.imgDrag({baseSrc:e,checkCode:t,checkSrc:i}).show().catch((t=>t));if("cancel"==s)return;const{encrypted:a=""}=s;return this.verify_img_params=a,void this.getCode()}this.recaptchaState=!1,0!=r&&this.$pop.message().show({content:n}),this.$pop.message().show({content:n})},async onConfirmEmail(){const{email:t="",tel:e="",area:i="",code:s="",pwd:a=""}=this.params;if("email"==this.sign){if(!t)return this.$pop.message().show({content:this.$t("UI_LOGIN_emailEmpty")});if(!(0,C.xf)(t))return this.$pop.message().show({content:this.$t("UI_LOGIN_emailFormat")});const e={token:this.user.token,email:t,language:this.languageType,type:2,device_id:this.deviceid};this.recaptchaState&&(e.recaptcha=this.recaptcha),this.verify_img_params&&(e.verify_img_params=this.verify_img_params),this.verify_img_params="",this.$pop.loading().show();const i=await(0,y._0)(e).catch((t=>t));if(this.$pop.loading().hide(),i&&300==i.code)return this.currentRecaptcha=3,void(this.recaptchaState=!0);if(i&&301==i.code){const{code:t="",img:e="",url:s=""}=i.data||{},a=await this.$pop.imgDrag({baseSrc:e,checkCode:t,checkSrc:s}).show().catch((t=>t));if("cancel"==a)return;const{encrypted:o=""}=a;return this.verify_img_params=o,void this.onConfirmEmail()}this.recaptchaState=!1,this.$pop.message().show({content:i.msg||i.message||""}),this.forgotTitle=this.$t("UI_Reset_pwd"),this.emailPwd=!0}if("tel"==this.sign){const t=this.$refs.form.validate();if(!t)return;let o=i.replace("+","");o=this.$u.lodash.isBlank(o)?this.phonePlaces[0].value.replace("+",""):o;const r={type:1,login_type:1,area:o,tel:o+""+e,pwd:a,code:s,language:this.languageType,device_id:this.deviceid};this.recaptchaState&&(r.recaptcha=this.recaptcha),this.verify_img_params&&(r.verify_img_params=this.verify_img_params),this.verify_img_params="",this.$pop.loading().show();const n=await(0,y.j3)(r).catch((t=>t));if(this.$pop.loading().hide(),n&&300==n.code)return this.currentRecaptcha=3,void(this.recaptchaState=!0);if(n&&301==n.code){const{code:t="",img:e="",url:i=""}=n.data||{},s=await this.$pop.imgDrag({baseSrc:e,checkCode:t,checkSrc:i}).show().catch((t=>t));if("cancel"==s)return;const{encrypted:a=""}=s;return this.verify_img_params=a,void this.onConfirmEmail()}if(this.recaptchaState=!1,0!=n.code)return this.$pop.message().show({content:n.msg||n.message||""});this.$pop.message().show({content:n.msg||n.message||""});const c=n.data&&this.$u.lodash.isObject(n.data)?n.data:{},l=c.token||"",_=Object.assign({},this.user,{token:l});this.$store.commit("base/SET_USER",_),this.$store.dispatch("base/refreshAccount"),this.pwdShow=!1,setTimeout((()=>{this.resolve("ok")}),500)}},async onSubmit(){const t=this.$refs.form.validate();if(!t)return;const{email:e="",code:i="",pwd:s=""}=this.params,a={type:2,login_type:2,pwd:s,code:i,account:e,language:this.languageType,device_id:this.deviceid};this.recaptchaState&&(a.recaptcha=this.recaptcha),this.verify_img_params&&(a.verify_img_params=this.verify_img_params),this.verify_img_params="",this.$pop.loading().show();const o=await(0,y.j3)(a).catch((t=>t));if(this.$pop.loading().hide(),o&&300==o.code)return this.currentRecaptcha=1,void(this.recaptchaState=!0);if(o&&301==o.code){const{code:t="",img:e="",url:i=""}=o.data||{},s=await this.$pop.imgDrag({baseSrc:e,checkCode:t,checkSrc:i}).show().catch((t=>t));if("cancel"==s)return;const{encrypted:a=""}=s;return this.verify_img_params=a,void this.onSubmit()}if(this.recaptchaState=!1,0!=o.code)return this.$pop.message().show({content:o.msg||o.message||""});this.$pop.message().show({content:o.msg||o.message||""});const r=o.data&&this.$u.lodash.isObject(o.data)?o.data:{},n=r.token||"",c=Object.assign({},this.user,{token:n});this.$store.commit("base/SET_USER",c),this.$store.dispatch("base/refreshAccount"),this.pwdShow=!1,setTimeout((()=>{this.resolve("ok")}),500)},onSuccess(t){this.recaptcha=t,1==this.currentRecaptcha&&this.onSubmit(),2==this.currentRecaptcha&&this.getCode(),3==this.currentRecaptcha&&this.onConfirmEmail()},onBack(){this.recaptchaState=!1}},beforeDestroy(){clearInterval(this.timerInterval),this.timerInterval=null}},lt=ct,_t=(0,x.A)(lt,ot,rt,!1,null,"85f61806",null),pt=_t.exports,dt={components:{ForgotPwd:pt},mixins:[X],data(){return{mixinsScene:"login",params:{tel:"",area:"",email:"",password:""}}},computed:{...(0,o.aH)("base",["systemConfig","platform"]),...(0,o.L8)("common",["isMultiSiteShow","pageMultiSiteSwitch"]),tabs(){let t=this.systemConfig?.login_weight_conf||[];return t.reduce(((t,e)=>(1==e.status&&t.push({value:e.key,name:"email"==e.key?this.$t("UI_LOGIN_Mail"):this.$t("UI_LOGIN_Phone"),weight:e.weight}),t)),[]).sort(((t,e)=>e.weight-t.weight))}},methods:{onForgotPwd(){this.$nextTick((async()=>{const t={sign:"mobile"===this.btnIndex?"tel":"email",par:this.params},e=await(this.$refs["forgotPwdRef"]?.open(t).catch((t=>t)));if("ok"==e)return this.$store.dispatch("modal/setLoginRegistShow",{show:!1})}))},async onSubmit(){L.eH.getAjReporting();let{tel:t="",area:e="",email:i="",password:s=""}=this.params;const a={account:this.removeSapces(i),password:this.removeSapces(s),login_type:2,...this.extroPrams};"mobile"===this.btnIndex&&(e=String(e).replace(/[\s+]+/g,"")||this.phonePlaces[0]?.code.replace("+",""),a.area=e,a.account=e+t,a.login_type=1),"ios"==this.platform&&(a.ioswebclip=Number(!!window.navigator?.standalone)),this.$pop.loading().show();const{code:o,data:r,msg:n}=await(0,y.iD)(a).catch((t=>t));if(this.$pop.loading().hide(),0!=o)return this.$pop.message().show({content:n});this.setSession(r,a),this.closeDialog(),this.$emit("loginSuccess"),this.loginRegisterSuccess({data:r})},closeParent(){this.handleLoginLog(),this.closeDialog()}}},ht=dt,mt=(0,x.A)(ht,st,at,!1,null,"773404fc",null),gt=mt.exports,ft={components:{SimpleTabBtn:r.A,register:it,login:gt},props:{isIcon:{type:Boolean,default:!0}},data(){return{tabIndex:0}},computed:{...(0,o.aH)("modal",["loginRegistStates"]),...(0,o.aH)("base",["isApp","systemConfig"]),...(0,o.L8)("base",["loginSwitch","regSwitch"]),btnTabs(){const t=[];return this.loginSwitch&&t.push(this.$t("UI_Login")),this.regSwitch&&t.push(this.$t("UI_Sign_Up")),t}},watch:{loginRegistStates:{handler(t){this.tabIndex=t?0:1},immediate:!0}},methods:{loginSuccess(){this.$emit("loginSuccess")},loadIcon:t=>(0,n.A)(t,!1),commonStyle:(t="")=>c.A[t],changeTab(t){this.tabIndex=t,this.$store.commit("modal/SET_LOGIN_REGIST_STATES",!t)},closeDialog(){this.$store.commit("modal/SET_LOGIN_REGIST_SHOW",!1)}}},ut=ft,bt=(0,x.A)(ut,s,a,!1,null,"13c30aaa",null),vt=bt.exports},50413:function(t,e,i){i.d(e,{A:function(){return b}});var s=i(88318),a=function(){var t=this,e=t._self._c;return t.isShowLogin.google||t.isShowLogin.facebook||t.isShowLogin.telegram?e("div",[t.thirdDialogState?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"tripartite_dialog",staticStyle:{display:"none"}},[e("div",{staticClass:"wrapper-mask",on:{click:t.onClose}}),e("div",{staticClass:"tripartite_box"},[e("div",{ref:"tripartitePopRef",staticClass:"tripartite_pop dialog_radius"},[e("div",{staticClass:"tripartite_box_title w_100 text_center"},[t._v(" "+t._s(t.$t("General.General_9"))+" "),e("div",{staticClass:"close_icon cursor_point d-flex align-center",on:{click:t.onClose}},[e("icon-font",{attrs:{name:"icon-Icon_Cloose",size:t.variables.tip_box_tripartite_dialog_close_icon_size}})],1)]),e("div",{staticClass:"w_100 tripartite_box_body"},[e("div",{staticClass:"text_center tripartite_box_body_text"},[t._v(" "+t._s(t.tripartiteText)+" ")]),e("div",{staticClass:"tripartite_box_body_btn"},[1==t.loginType?e("g-signin-button",{attrs:{params:t.googleSignInParams},on:{success:t.onGSignInSuccess,error:t.onGSignInError}},[e(s.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",id:"googleId",height:t.variables.tip_box_tripartite_dialog_body_btn_height}},[e("icon-font",{attrs:{name:"icon-Icon_Google",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Google_btn")))])],1)],1):t._e(),t.android||2!=t.loginType?t._e():e("fb-signin-button",{attrs:{params:t.fbSignInParams},on:{success:t.onFBSignInSuccess,error:t.onFBSignInError}},[e(s.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",id:"fbId",height:t.variables.tip_box_tripartite_dialog_body_btn_height}},[e("icon-font",{attrs:{name:"icon-Icon_FaceBook2",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Facebook_btn")))])],1)],1),t.android&&2==t.loginType?e(s.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",height:t.variables.tip_box_tripartite_dialog_body_btn_height},on:{click:t.loginFaceBook}},[e("icon-font",{attrs:{name:"icon-Icon_FaceBook2",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Facebook_btn")))])],1):t._e(),4==t.loginType?e(s.A,{staticClass:"btn_radius",attrs:{width:"100%",color:"t_primary_dark_color",id:"telegramId",height:t.variables.tip_box_tripartite_dialog_body_btn_height},on:{click:t.loginTelegram}},[e("icon-font",{attrs:{name:"icon-icon_telegreat",size:t.variables.tip_box_tripartite_dialog_body_btn_icon_size}}),e("span",{staticClass:"tripartite_box_body_btn_text"},[t._v(t._s(t.$t("UI_Telegram_btn")))])],1):t._e()],1)])])])]):t._e()]):t._e()},o=[],r=i(95353),n=i(81899),c=i(61384),l=i(81715),_=(i(58725),i(6294),i(90063)),p=i(62754),d=i(13230),h=i(58843),m={name:"ThirdLogin",props:{isLogin:Boolean},data(){return{variables:p.A,iconSize:36,thirdDialogState:!0,loginType:1,faceScope:{},faceFB:{},faceModel:{},serviceLink:"",fbSignInParams:{scope:"email,user_likes",return_scopes:!0},googleSignInParams:{client_id:c._9},android:window.android}},computed:{...(0,r.aH)("base",["isApp","user","systemConfig","languageType"]),...(0,r.L8)("base",["getShowConfig"]),tripartiteText(){const t={1:"UI_Google_text",2:"UI_Facebook_text",4:"UI_Telegram_text"},e=t[this.loginType];return this.$t(e)},isShowLogin(){const t=1==this.getShowConfig("google_login"),e=1==this.getShowConfig("facebook_btn"),i=1==this.getShowConfig("telegram_login");return{google:t,facebook:e,telegram:i}}},mounted(){const{privacy:t=""}=this.systemConfig;this.serviceLink=t,this.android?window.android.callScript=this.callScript:window.fbAsyncInit=function(){FB.init({appId:c.Zt,cookie:!0,xfbml:!0,version:"v2.8"}),FB.AppEvents.logPageView()},this.initSDKScript()},methods:{initSDKScript(){const t=function(t,e){var i,s=document.getElementsByTagName("script")[0];document.getElementById(e)||(i=document.createElement("script"),i.id=e,i.src=t,s.parentNode.insertBefore(i,s))};this.android||t("https://connect.facebook.net/en_US/sdk.js","facebook-jssdk"),t("https://telegram.org/js/telegram-widget.js","telegram-widget")},callScript(t,e){if("loginFaceBookSuccess"===t){const t=JSON.parse(e);let i={nickname:t.name,third_token:t.uid,appid:t.appid||"",access_token:t.accessToken||""};this.submitLogin(i)}},signIn(t){switch(t){case"google":this.showGoogle();break;case"facebook":this.showFacebook();break;case"telegram":this.showTelegram();break;default:break}},loginFaceBook(){this.$u.callJava("loginFaceBook")},showGoogle(){!(0,h.b)(1)||this.isLogin?(this.thirdDialogState=!0,this.$u.callJava("openInternalWindow",{value:!0}),this.loginType=1,this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.insert(t)})),this.$nextTick((()=>{let t=document.getElementById("googleId");t.click()}))):this.$pop.guideInstall().show()},onGSignInSuccess(t){let e={nickname:t.getBasicProfile().getName(),third_token:t.getBasicProfile().getId(),headimg:t.getBasicProfile().getImageUrl(),third_account:t.getBasicProfile().getEmail(),third_jwt:t.getAuthResponse().id_token,login_type:1};this.submitLogin(e)},onGSignInError(t){this.thirdDialogState=!1,this.$pop.message().show({content:this.$t("UI_externo_login")})},showFacebook(){!(0,h.b)(1)||this.isLogin?(this.thirdDialogState=!0,this.loginType=2,this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.insert(t)})),this.android?this.loginFaceBook():this.$nextTick((()=>{let t=document.getElementById("fbId");t.click()}))):this.$pop.guideInstall().show()},onFBSignInSuccess(t){FB.api("/me",(t=>{let e={nickname:t.name,third_token:t.id,appid:t.appid||"",access_token:t.accessToken||""};this.submitLogin(e)}))},onFBSignInError(t){this.thirdDialogState=!1,this.$pop.message().show({content:this.$t("UI_externo_login")})},showTelegram(){!(0,h.b)(1)||this.isLogin?(this.android&&this.$u.callJava("openInternalWindow",{value:!0}),this.thirdDialogState=!0,this.loginType=4,this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.insert(t)})),this.$nextTick((()=>{this.loginTelegram()}))):this.$pop.guideInstall().show()},loginTelegram(){window.Telegram.Login.auth({bot_id:c.So,request_access:"write",embed:1},(t=>{if(!t)return;console.log("Telegram.Login.auth: ",t);const{first_name:e="",last_name:i="",photo_url:s,id:a,hash:o,auth_date:r}=t,n={nickname:e+i,headimg:s,third_account:a,third_jwt:o,auth_date:r,first_name:e,last_name:i,login_type:4};this.submitLogin(n)}))},loadIcon:t=>(0,n.A)(t,!1),submitLogin(t){d.eH.getAjReporting();let e=this.$store.getters["base/getRootParams"],i=localStorage.getItem("source_type");const s=localStorage.getItem("agentid")||"";i||(i="");let a={deviceid:e.deviceid,platform:e.platform,mainVer:e.mainVer,subVer:e.subVer,pkgName:e.pkgName,language:e.language,agentid:s,source_type:i,third_token:t.third_token,nickname:t.nickname,headimg:t.headimg||"",third_account:t.third_account||"",third_jwt:t.third_jwt||"",login_type:t.login_type||"",auth_date:t.auth_date||"",first_name:t.first_name||"",last_name:t.last_name||"",appid:t.appid||"",access_token:t.access_token||"",domain:_.Un.baseURL()};(0,l.Rr)({url:_.Un.baseURL(),form:a}).then((({code:e,data:i,msg:s})=>{if(0!=e)return this.$pop.message().show({content:s});const{token:a="",responsible_login_limit:o={}}=i,r=i.day_play_time||{},n=r.day_play_time||{};if(1==r.is_day_play_time)if(o&&Object.keys(o).length>0){const{limit_start_time:e=0,limit_end_time:i=0,edit_cd_time:s=0}=o;this.$pop.limitLogin({currentToken:a,startTime:e,endTime:i,editTime:s,error:()=>{this.submitLogin(t)}}).show()}else this.thirdDialogState=!1,this.$emit("loginRegisterSuccess",{data:i,isLogin:!0}),this.$emit("close");else{const t={currentToken:a,startH:n.start_hour,startM:n.start_min,endH:n.end_hour,endM:n.end_min,editTime:r?.edit_cd_time||0,error:()=>{this.submitLogin(t)}};this.$pop.disableLogin(t).show()}}))},onClose(){this.$nextTick((()=>{const t=this.$refs["tripartitePopRef"];t&&this.$anim.close(t)})),setTimeout((()=>{this.thirdDialogState=!1,this.$u.callJava("openInternalWindow",{value:!1})}),c.Kq)}}},g=m,f=i(845),u=(0,f.A)(g,a,o,!1,null,"4a18343a",null),b=u.exports}}]);