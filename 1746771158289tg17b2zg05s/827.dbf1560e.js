"use strict";(self["webpackChunkcc_web_client"]=self["webpackChunkcc_web_client"]||[]).push([[827],{63827:function(t,e,s){s.r(e),s.d(e,{default:function(){return X}});var i=s(88318),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"refer_gift"},[e("div",{staticClass:"refer_gift_box"},[e("div",{staticClass:"refer_gift_top"},[e("span",[t._v(" "+t._s(t.$t("UI_Receive_Tit",{Currency:t.currencySymbol,amount:t.activityInvite?.activity_user_task?.total_amount}))+" ")]),e("icon-font",{staticClass:"refer_gift_top_icon",attrs:{name:"icon-Icon_question",size:t.variables.refer_gift_top_icon_size,dark:t.variables.refer_gift_top_icon_color},on:{click:t.onRull}})],1),e("div",{staticClass:"refer_gift_progress"},[e("div",{staticClass:"refer_gift_progress_box"}),e("div",{staticClass:"refer_gift_progress_view"},[e("div",{staticClass:"refer_gift_progress_top"},[e("div",{staticClass:"progress_top_money"},[e("img",{attrs:{src:t.loadIcon("refer_gift_money",!1),alt:""}}),e("span",{staticClass:"progress_top_money_text"},[t._v(" "+t._s(t.currencySymbol)+" "),e("CountTo",{attrs:{startVal:t.startVal,endVal:t.endVal,duration:t.duration,decimals:t.decimals}})],1)]),e(i.A,{staticClass:"refer_sacar_btn",class:t.activityInvite?.activity_user_task?.withdraw_state?"disabled":"",on:{click:t.onSacarBtn}},[e("img",{staticClass:"sacar_btn_box_img",attrs:{src:t.loadIcon("refer_quest_gold",!1),alt:""}}),e("div",{staticClass:"sacar_btn_box_text"},[t._v(" "+t._s(t.$t("UIWheelWithDraw"))+" ")])])],1),e("div",{staticClass:"refer_gift_progress_bottom"},[e("referProgress",{attrs:{progress:t.progressValue,strokeWidth:10,showInfo:!1}}),e("div",{staticClass:"refer_gift_progress_bottom_text",domProps:{innerHTML:t._s(t.$t("UI_Refer_Withdrawal_Text",{x:t.remainValue}))}})],1)])]),e("div",{staticClass:"refer_gift_turntable"},[t.isTurntableShow?e("movable-turntable",{ref:"turntableRef",attrs:{isGoldState:t.isGoldState,plusSizeLeft:t.plusSizeLeft,plusSizeTop:t.plusSizeTop,goldAnimationClass:t.goldAnimationClass,turntableBg:t.turntableBg,size:t.sizeFn,isBottomBg:!1},on:{stopLucky:t.stopLucky}}):t._e(),e("refer-messbox",{ref:"referMessbox"})],1),e("div",{staticClass:"refer_gift_Share"},[e("div",{staticClass:"refer_gift_Share_box"},[e("div",{staticClass:"refer_gift_Share_text"},[t._v(" "+t._s(t.shareLink)+" ")]),e(i.A,{staticClass:"refer_gift_Share_btn",on:{click:t.onShare}},[e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-fenxiang1",size:t.variables.share_btn_icon_size,dark:t.variables.share_btn_icon_color}})],1)],1)]),e("div",{staticClass:"refer_gift_tips"},[t._v(" "+t._s(t.$t("UI_Withdrawals_Tips"))+" ")]),e("div",{staticClass:"refer_gift_table"},[e("btn-tab",{attrs:{"tag-list":t.tabs},on:{changeTab:t.switchFormTab},model:{value:t.btnIndex,callback:function(e){t.btnIndex=e},expression:"btnIndex"}}),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.btnIndex,expression:"btnIndex == 1"}],staticClass:"refer_gift_table_container"},[e("refer-table",{attrs:{amount:t.activityInvite?.activity_user_task?.total_amount}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.btnIndex,expression:"btnIndex == 2"}],staticClass:"refer_gift_table_container"},[e("help-user-table",{attrs:{list:t.helpUserList}})],1)],1)]),e("refer-flow",{ref:"referFlow",on:{change:t.onLink}}),e("refer-rull",{ref:"referRull",attrs:{content:t.activityInvite?.activity_info?.desc}}),e("refer-link",{ref:"referLink",attrs:{linkUrl:t.activityInvite?.activity_info?.share_link,linkData:t.linkData}})],1)},r=[],n=s(95353),o=s(45412),l=s(38346),c=s(14344),_=s(82066),u=s(75533),h=s(75473),d=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_flow"},[e("div",{staticClass:"wrapper-mask"}),e("div",{staticClass:"refer_flow_box"},[e("div",{staticClass:"flow_top"},[e("div",{staticClass:"flow_top_left"},[t._v(" "+t._s(t.$t("UIwithdrawDetail_TIT"))+" ")]),e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-close",size:t.variables.flow_share_btn_icon_size,dark:t.variables.flow_share_btn_icon_color},on:{click:t.hide}})],1),e("div",{staticClass:"flow_content"},[e("div",{staticClass:"flow_content_text"},[t._v(t._s(t.$t("UIwithdrawDetail_TIT2")))]),e("div",{staticClass:"flow_content_gold"},[t._v(" "+t._s(t.currencySymbol)+" "+t._s(t.activityInvite?.activity_user_task?.progress_amount)+" ")])]),e("div",{staticClass:"flow_box"},[e("time-line")],1),e("div",{staticClass:"flow_btn"},[e(i.A,{staticClass:"btn_radius sacar_btn",attrs:{height:t.variables.flow_btn_height,width:"100%",color:"t_primary_dark_color"},on:{click:t.onLine}},[e("div",[t._v(t._s(t.$t("UIwithdrawDetail_TIT6")))])])],1)])]):t._e()},v=[],m=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"timeline"},t._l(t.list,(function(s,i){return e("li",{key:i,staticClass:"timeline_item"},[t.list.length-1!=i?e("div",{staticClass:"item_tail"}):t._e(),e("div",{staticClass:"item_node"}),t.list.length-1!=i?e("icon-font",{staticClass:"item_node_icon",attrs:{name:"icon-icon_check_mark",size:t.variables.item_node_icon_size,dark:t.variables.item_node_icon_color}}):t._e(),e("div",{staticClass:"item_wrapper"},[e("div",{staticClass:"item_content"},[t._v(t._s(s.content))])])],1)})),0)},f=[],p=s(58725),b={data(){return{variables:u.A}},computed:{...(0,n.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,n.aH)("source",["activityInvite"]),...(0,n.aH)("switchState",["currencyShow"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""},remainValue(){let t=this.getToFixed(parseFloat(this.activityInvite?.activity_user_task?.total_amount)-parseFloat(this.activityInvite.activity_user_task.progress_amount));return t},totalAmount(){return this.getToFixed(parseFloat(this.activityInvite?.activity_user_task?.total_amount))},list(){return[{content:this.$t("UIwithdrawDetail_TIT2")},{content:this.$t("UIwithdrawDetail_TIT4",{amount:this.remainValue})},{content:this.$t("UIwithdrawDetail_TIT5",{amount:this.currencySymbol+this.totalAmount})}]}},methods:{getToFixed(t,e=2){return(0,p.wT)(t,e)}}},g=b,k=s(845),y=(0,k.A)(g,m,f,!1,null,"58384fe0",null),C=y.exports,w={components:{referProgress:l.A,referTable:c.A,timeLine:C},data(){return{state:!1,variables:u.A}},computed:{...(0,n.aH)("dialog"),...(0,n.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,n.aH)("source",["activityInvite"]),...(0,n.aH)("switchState",["currencyShow"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""}},methods:{show(){this.state=!this.state},hide(){this.state=!1},onLine(){this.$emit("change")}}},I=w,x=(0,k.A)(I,d,v,!1,null,"207290c3",null),T=x.exports,S=s(19398),$=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_link"},[e("div",{staticClass:"wrapper-mask"}),e("div",{staticClass:"refer_link_box"},[e("div",{staticClass:"link_top"},[e("div",{staticClass:"link_top_left"},[t._v(" "+t._s(t.$t("UIWheelShareTit"))+" ")]),e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-close",size:t.variables.link_share_btn_icon_size,dark:t.variables.link_share_btn_icon_color},on:{click:t.hide}})],1),e("div",{staticClass:"link_content"},[e("div",{staticClass:"link_content_Share"},[e("div",{staticClass:"link_content_Share_text"},[t._v(t._s(t.linkUrl))]),e(i.A,{staticClass:"link_content_Share_btn",on:{click:t.onCopy}},[t._v(" "+t._s(t.$t("UI_copy"))+" ")])],1),e("div",{ref:"QRCrodeRef",staticClass:"link_content_code"}),e("div",{staticClass:"link_content_text"},[t._v(" "+t._s(t.$t("UI_UIPromoteMain_1"))+" ")]),e("div",{staticClass:"link_btn"},[e(i.A,{staticClass:"btn_radius sacar_btn",attrs:{height:"36",width:"100%",color:"t_primary_dark_color"},on:{click:t.downloadIamge}},[e("div",[t._v(t._s(t.$t("UI_UIPromoteMain_2")))])])],1),e("div",{staticClass:"link_icon"},[e("div",{staticClass:"link_icon_title"},[t._v(t._s(t.$t("UI_Promote_ShareTitle")))]),e("div",{staticClass:"link_icon_btn"},t._l(t.shareLinkArr,(function(s){return e("icon-font",{directives:[{name:"zoom",rawName:"v-zoom"}],key:s.id,staticClass:"party cursor_point",attrs:{name:s.icon,size:t.variables.link_icon_btn_size},on:{click:function(e){return t.onShareLink(s.sign)}}})})),1)])])])]):t._e()},A=[],z=s(6521),L=s(79118),U=s.n(L),R=s(64643),F=s(61384),D={props:{linkUrl:{type:String,default:""},linkData:{type:Object,default:()=>({})}},data(){return{state:!1,qrcode:null,variables:u.A}},computed:{...(0,n.aH)("dialog",["popupState"]),...(0,n.aH)("base",["isApp","systemConfig","user"]),shareLinkArr(){const{share_app:t=[]}=this.systemConfig,e=[{id:"1",icon:"icon-icon_refer_whatsapp",sign:"whatsapp"},{id:"2",icon:"icon-icon_refer_facebook",sign:"facebook"},{id:"3",icon:"icon-icon_refer_line",sign:"line"},{id:"4",icon:"icon-icon_refer_zalo",sign:"zalo"},{id:"5",icon:"icon-icon_TG",sign:"TG"},{id:"6",icon:"icon-icon_twitter",sign:"twitter"}];return e.map((e=>t.includes(e.id)?e:null)).filter((t=>t))}},methods:{show(){this.state=!this.state,this.$nextTick((()=>{this.createQrcode()}))},hide(){this.state=!1,this.remove&&this.remove()},createQrcode(){this.$refs["QRCrodeRef"]&&(this.qrcode&&(this.$refs["QRCrodeRef"].innerHTML=""),this.qrcode=new(U())(this.$refs["QRCrodeRef"],{id:"qrCrodeId",text:this.linkUrl,width:100,height:100,correctLevel:U().CorrectLevel.Q}))},onCopy(){this.$u.copyClip(this.linkUrl,(()=>{(0,R.cO)({token:this.user.token})}))},downloadIamge(){this.$u.downloadQrcode(this.qrcode,(()=>{this.$pop.message().show({content:this.$t("UI_Download_Iamge")})}))},onShareLink(t=""){if(!t)return;const{share_content:e="",link:s=""}=this.linkData;switch(t){case"whatsapp":open(`${F.h7}?text=${e}    ${s}`);break;case"facebook":open(`${F.$L}?u=${s}&content=${e}`);break;case"line":(0,z.mL)()?(0,z.lK)("LineAppShareUrl",{url:e+"    "+s}):open(`${F.TT}?text=${e}&url=${encodeURIComponent(s)}`);break;case"zalo":(0,z.mL)()&&(0,z.lK)("zaloShareCallback",{msg:e,link:s});break;case"TG":open(`${F.eO}?text=${encodeURIComponent(e)}&url=${encodeURIComponent(s)}`);break;case"twitter":open(`${F.i_}?text=${encodeURIComponent(e)}&url=${encodeURIComponent(s)}`);break;default:break}}}},H=D,V=(0,k.A)(H,$,A,!1,null,"286aff08",null),N=V.exports,E=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_messbox"},[e("div",{staticClass:"refer_messbox_box"},[e("div",{staticClass:"messbox_box"},[e("div",{staticClass:"messbox_box_content"}),e("div",{staticClass:"messbox_box_view"},[e("div",{staticClass:"messbox_box_title"},[t._v(" "+t._s(t.$t("UI_Congratulations"))+" ")]),e("img",{staticClass:"messbox_box_img",attrs:{src:s(97105)}})])])])]):t._e()},G=[],W={components:{},data(){return{state:!1,variables:u.A}},computed:{...(0,n.aH)("base",["isApp"])},methods:{show(){this.state=!this.state},hide(){this.state=!1}}},Q=W,q=(0,k.A)(Q,E,G,!1,null,"5ed518fc",null),B=q.exports,P=s(81899),M=s(65874),O=s.n(M),K={name:"ReferGift",components:{movableTurntable:o.A,referProgress:l.A,btnTab:h.A,referTable:c.A,referFlow:T,referRull:S.A,referLink:N,helpUserTable:_.A,referMessbox:B,CountTo:O()},data(){return{variables:u.A,btnIndex:1,linkData:{},helpUserList:[],isTurntableShow:!0,startVal:1,duration:1500,progressValue:0,goldAnimationClass:"bank_account_btn_text",isGoldState:!0,plusSizeTop:0,plusSizeLeft:50}},computed:{...(0,n.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,n.aH)("source",["activityInvite"]),...(0,n.aH)("switchState",["currencyShow"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""},remainValue(){let t=this.getToFixed(parseFloat(this.activityInvite?.activity_user_task?.total_amount)-parseFloat(this.activityInvite?.activity_user_task?.progress_amount))||0;return`<span style='color: #FFCE5C;font-size: 20px;'>${t}</span>`},shareLink(){return this.activityInvite?.activity_info?.share_link},sizeFn(){const{offsetWidth:t=0}=document.body;return this.isApp?t:624},tabs(){return[{name:this.$t("UIWheelReport"),value:1},{name:this.$t("UIWheelReference"),value:2}]},turntableBg(){return[this.variables.movable_turntable_item1,this.variables.movable_turntable_item2]},endVal(){return setTimeout((()=>{this.startVal=Number(this.activityInvite?.activity_user_task?.progress_amount||0)}),this.duration),Number(this.activityInvite?.activity_user_task?.progress_amount||0)},decimals(){const t=this.activityInvite?.activity_user_task?.progress_amount.toString();return t?.split(".")?.[1]?.length||0}},watch:{isApp(t){this.isTurntableShow=!1,this.$refs.turntableRef&&this.$refs.turntableRef.destroy(),setTimeout((()=>{this.isTurntableShow=!0}),100)},activityInvite:{deep:!0,handler:function(t,e){const{activity_user_task:s={}}=t;if(s){const{progress_amount:t=0,total_amount:e=0}=s;setTimeout((()=>{this.progressValue=this.getToFixed(100*parseFloat(t/e))}),200)}}}},created(){this.activityInvite?.activity_user_task||this.$router.push({name:"menu"})},methods:{stopLucky(t){const{type:e=2}=t;2==e&&(this.plusSizeTop=0,this.plusSizeLeft=30,this.goldAnimationClass="progress_top_money_text"),1==e&&(this.plusSizeTop=10,this.plusSizeLeft=50,this.goldAnimationClass="bank_account_btn_text",this.$store.commit("base/SET_IS_REFRESH_USER",!0),this.$store.commit("source/SET_INVITE_GIFT_GOLD",t?.value||0),setTimeout((()=>{this.user.gold=Number(this.user.gold)+Number(t?.value||0),this.$store.commit("base/SET_USER",this.user),this.$store.commit("source/SET_INVITE_GIFT_GOLD",0)}),2e3))},onSacarBtn(){const{withdraw_state:t=0,progress_amount:e=0,total_amount:s=0}=this.activityInvite?.activity_user_task;t||(Number(e)>=Number(s)?this.$store.dispatch("modal/setDepositWithdrawShow",{tab:"withdraw",entrance:2}):this.$refs.referFlow.show())},switchFormTab({item:t={}}){const{value:e=1}=t;this.btnIndex=e,2==this.btnIndex&&this.getActivityLotteryFn()},getToFixed(t,e=2){return(0,p.wT)(t,e)},onShare(){this.onLink()},onRull(){this.$refs.referRull.show()},async onLink(){const t={token:this.user.token,language:this.languageType},{code:e=0,data:s={}}=await(0,R.hu)(t).catch((t=>t));0==e&&(this.linkData=s,this.$refs.referLink.show())},async getActivityLotteryFn(){const t=this.activityInvite?.activity_user_task?.task_id,e={token:this.user.token,language:this.languageType,task_id:t},{code:s=0,data:i=[]}=await(0,R.fn)(e).catch((t=>t));0==s&&(this.helpUserList=i)},loadIcon:t=>(0,P.A)(t,!1)}},j=K,J=(0,k.A)(j,a,r,!1,null,"4288eaaa",null),X=J.exports}}]);