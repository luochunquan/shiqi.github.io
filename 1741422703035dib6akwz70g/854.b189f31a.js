(self["webpackChunkcc_web_client"]=self["webpackChunkcc_web_client"]||[]).push([[854],{62652:function(t,e,i){"use strict";i.d(e,{A:function(){return b}});var a=i(88318),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"game-card mask-loading",style:t.sizeStyle},[e("div",{staticClass:"image-wrapper",on:{click:function(e){return t.goIntoGame(0)}}},[e("img",{staticClass:"load_game_img",class:{load_game_img_recent:"recent"===t.scene},style:t.sizeStyle,attrs:{"data-src":t.pictureLink,"data-isload":"no",src:t.default_image_bg}}),t.showMeta?e("div",{class:["card_bottom_meta","recent"===t.scene&&"scene_by_recent"],style:t.maskLoad},[t.gameShowState?[e("div",{ref:"metaName",staticClass:"card_meta_main"},[t._v(t._s(t.game.gameName))]),e("div",{ref:"metaProducer",staticClass:"card_meta_sub"},[t._v(t._s(t.manufactorText))])]:t._e()],2):t._e(),t.isCollect?[e("span",{staticClass:"collect",on:{click:function(e){return e.stopPropagation(),t.collect(t.game)}}},[e("icon-font",{attrs:{name:t.collectIconName,size:t.commonStyle("collect_icon_size")}})],1)]:t._e(),t.isApp?t._e():e("div",{staticClass:"card-action"},[t.gameShowState?e("div",{staticClass:"action-title"},[t._v(t._s(t.game.gameName))]):t._e(),e(a.A,{staticClass:"btn-play",attrs:{color:"t_btn_host_color"}},[e("icon-font",{attrs:{name:"icon-Icon_triangle",size:t.commonStyle("icon_play_size")}}),e("span",{staticClass:"btn-play-text"},[t._v(" "+t._s(t.$t("General.General_play")))])],1)],1)],2),t.isMaintain?e("div",{staticClass:"mask-tips",on:{click:t.showTips}},[e("icon-font",{attrs:{name:"icon-Icon_Time",size:t.commonStyle("icon_timer_size")}}),e("div",{staticClass:"mask-tips-content"},[e("span",[t._v(t._s(t.$u.getFormatDate({date:t.maintainData.mtc_st_date,pattern:5})))]),e("span",[t._v("~")]),e("span",[t._v(t._s(t.$u.getFormatDate({date:t.maintainData.mtc_end_date,pattern:5})))])])],1):t._e(),t.tagImg&&t.isCollect?[e("img",{staticClass:"card_tag",class:{tag_pc:!t.isApp},attrs:{src:t.tagImg,alt:""}})]:t._e()],2)},s=[],o=i(95353),r=i(81899),c=i(98336),l=i.n(c),m=i(90063),d={collect_icon_size:"32",icon_play_size:"10",icon_timer_size:"48",game_name_font_size:"17",game_producer_font_size:"12",card_by_recent_game_name_font_size_app:"8",card_by_recent_game_name_font_size_pc:"16",card_by_recent_producer_font_size_app:"8",card_by_recent_producer_font_size_pc:"12","v-btn-wrap":"GIG_c0A6sbp0U1FMQ6tU","v-btn__content":"J_nYT76zF88ahV1FB8ns",bgTrans:"Q4T8y7nyRnImTojD3lvE"},_=i(61384),g=i(58843);const p=(0,r.A)("common_bg_gameicon",!1);var h={name:"GameCard",props:{category:[String,Number],game:{type:Object,default:()=>{}},width:{type:String,required:!0},height:{type:String,required:!0},showCollectIcon:{type:Boolean,default:!0},isViewAll:{type:Boolean,default:!0},isCollect:{type:Boolean,default:!0},scene:{type:String,default:"default"}},data(){return{source:"",isMaintain:!1,maintainData:{},namePicture:null,factoryPicrure:null,default_image_bg:p,gameShowState:_.Ti,manufactorText:""}},computed:{...(0,o.aH)("source",["gameFactory","collectGames","recent","maintains"]),...(0,o.aH)("base",["isApp","langMoreInfo","systemConfig","languageType"]),sizeStyle(){return{width:this.width,height:this.height}},collectIconName(){let t=!1;const e=["icon-Icon_star_gray","icon-Icon_star_light"],{gameid:i,id:a,gid:n,has_child:s}=this.game;return i?Array.isArray(this.collectGames)&&this.collectGames.some((t=>t.gameid==i))&&(t=!0):s?Array.isArray(this.collectGames)&&this.collectGames.some((t=>t.id==a))&&(t=!0):Array.isArray(this.collectGames)&&this.collectGames.some((t=>t.gid==n))&&(t=!0),t?e[1]:e[0]},showMeta(){const t=this.category===_.Q5.FAVORATE;return t||!this.game.isFully},pictureLink(){const{pic_url:t="",isFully:e=!1}=this.game;return"recent"===this.scene?t:1==this.game.has_child?this.isApp?this.game.pic_phone_url:this.game.pic_pc_url:1==this.game.entrance_type?t:e?this.isApp?this.game.pic_phone_url:this.game.pic_pc_url:t},tagImg(){const{tab:t=0}=this.game;if(2!=t&&3!=t)return"";const e=(0,r.A)(2==t?"menu_hot_tag":"menu_new_tag",!1);return e},maskLoad(){return _.uo||[1,2,3,4,5].includes(_.uo)?this.$loadIcon(`common_game_overlay${_.uo}`,!0):this.$loadIcon("common_game_mask",!0)}},watch:{game:{immediate:!0,handler(t){const{mtc_status:e="",mtc_st_date:i=0,mtc_end_date:a=0}=t,n=this.$u.getTimeStamp(new Date,i),s=this.$u.getTimeStamp(new Date,a);this.isMaintain=e&&n&&!s,this.maintainData=t}},maintains:{deep:!0,immediate:!0,handler(t){const e=t.findIndex((t=>t.gid==this.game.gid));if(e>-1){const i=(new Date).getTime(),a=t[e],n=a.mtc_st_date,s=a.mtc_end_date;this.isMaintain=i>=n&&i<=s&&"1"==t[e].mtc_status,this.maintainData=a}}}},created(){const{show_sub_platform_name_switch:t=0}=this.systemConfig,{platform:e=null,factoryName:i="",sub_platform_name_config:a={}}=JSON.parse(JSON.stringify(this.game));if(1!=t)this.manufactorText=i;else{const t=a[e]||{},n="en-us"!=this.languageType&&t["other"]?t["other"]:t["en-us"];this.manufactorText=n||i}},mounted(){setTimeout((()=>{this.createdTextfit(),window.addEventListener("resize",this.createdTextfit)}),30)},beforeDestroy(){window.removeEventListener("resize",this.createdTextfit)},methods:{commonStyle:t=>d[t],createdTextfit(){try{const t=this.$refs.metaName,e=this.$refs.metaProducer,{game_name_font_size:i,game_producer_font_size:a,card_by_recent_game_name_font_size_app:n,card_by_recent_producer_font_size_app:s,card_by_recent_game_name_font_size_pc:o,card_by_recent_producer_font_size_pc:r}=d;let c=i,m=a;"recent"===this.scene&&(c=this.isApp?n:o,m=this.isApp?s:r),this.game.gameName&&t&&l()(t,{minFontSize:6,maxFontSize:parseInt(c),multiLine:!0}),this.game.factoryName&&e&&l()(e,{minFontSize:4,maxFontSize:parseInt(m),multiLine:!0})}catch(t){}},showTips(){this.$pop.confirm({title:this.$t("UI.Tips"),content:this.maintainData.mtc_msg||"",confirmText:this.$root.$t("General.General_1")}).show()},ratioDialog(t=0){const e=this.langMoreInfo.find((t=>"currency_rate_withdraw_desc"==t.name));let i=e&&e.value||"";i=i.replaceAll("{game_name}",this.$route.query.gameName),i=i.replaceAll("{bw_rate}",this.game?.egc_rate),this.$pop.confirm({content:i,confirmText:this.$t("General.General_1"),cancelText:this.$t("General.General_2"),success:()=>{this.onStartGame(t)}}).show()},collect(t){(0,m.Fo)(t,this)},goIntoGame(t=0){const{gid:e,show_rate_tips:i}=this.game;return e==_.T5?(0,g.b)(0)?void this.$pop.guideInstall().show():this.$router.push({name:"sportView"}):1==t?this.$emit("toGame",this.game,t):i&&1==i?this.ratioDialog(t):this.game.mtc_msg?this.showTips():void this.onStartGame(t)},onStartGame(t){let e=JSON.parse(JSON.stringify(this.recent));const i=this.game.gameid?"gameid":"gid";if(0==this.game.has_child||null==this.game.has_child){const t=e.findIndex((t=>t[i]==this.game[i]));-1!=t&&e.splice(t,1),e=[this.game,...e]}this.$emit("toGame",this.game,t),this.$store.commit("source/SET_RECENT",e)}}},u=h,f=i(845),y=(0,f.A)(u,n,s,!1,null,"2194deec",null),b=y.exports},5854:function(t,e,i){"use strict";i.d(e,{A:function(){return b}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-x-hidden"},[e("div",{staticClass:"grid-box"},[t.list.length?[t._l(t.list,(function(i,a){return e("div",{key:t.getKey(i),staticClass:"grid-container"},[e("game-card",{attrs:{index:a,game:i,width:!t.isFavorite&&i.isFully?t.cardSize.fullWidth:t.cardSize.width,height:t.cardSize.height,category:t.category},on:{toGame:t.toGame}})],1)})),t.$slots.default?e("div",{staticClass:"grid-box--action"},[t._t("default")],2):t._e()]:e("div",{staticClass:"w_100 d-flex justify-center"},[e("empty")],1)],2)])},n=[],s=i(95353),o=i(62652),r=i(61410),c=i(65236),l=i(61384),m=i(90904);const{grid_space:d,grid_space_app:_,lobby_box_padded:g,xs_lobby_box_padded:p}=c.A;var h={name:"GameGrid",components:{GameCard:o.A,Empty:r.A},props:{list:{type:Array,default:()=>[]},category:[String,Number]},data(){return{}},computed:{...(0,s.aH)("base",["isApp"]),...(0,s.aH)("layout",["containerBox"]),isFavorite(){return this.category===l.Q5.FAVORATE},size(){return this.isApp?3:6},cardSize(){const t=this.size,e=this.isApp?2*_:2*d,i=this.isApp?2*p:2*g,a=160,n=220,s=n/a,o=this.containerBox.width-i,r=(o+e)/t-e;return{fullWidth:`${o}px`,width:`${r}px`,height:r*s+"px"}}},watch:{list:{handler(t){Array.isArray(t)&&t.length&&this.$nextTick((()=>(0,m.A)(this.isApp?6:12)))},immediate:!0}},methods:{getKey(t){return`${t.id}_${t.gid}_${t.gameid}`},toGame(t){this.$emit("toGame",t)}}},u=h,f=i(845),y=(0,f.A)(u,a,n,!1,null,"6d5bbd1c",null),b=y.exports},65236:function(t,e){"use strict";e.A={game_wrapper_space:"10",game_wrapper_app_space:"8",grid_space:"10",grid_space_app:"6",icon_search_size:"14",search_field_height:"36",group_icon_size:"16",pesquisa_img_width:"128",pesquisa_img_height:"176",xs_pesquisa_img_width:"88",xs_pesquisa_img_height:"121",search_tabs_height:"48",search_tabs_color:"#fff",lobby_box_padded:"16",xs_lobby_box_padded:"16",game_recent_indiv_app:"5",game_recent_indiv_pc:"8",game_recent_spacing_app:"12",game_recent_spacing_pc:"16","v-btn-wrap":"bwaAu2Sv4yUOUEvQDGsn","v-btn__content":"Ob43ReYVJrURfhuav8gB"}},98336:function(t,e,i){var a,n,s;(function(i,o){"use strict";n=[],a=o,s="function"===typeof a?a.apply(e,n):a,void 0===s||(t.exports=s)})("object"===typeof i.g&&i.g,(function(){"use strict";var t={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(i,a){a||(a={});var n={};for(var s in t)a.hasOwnProperty(s)?n[s]=a[s]:n[s]=t[s];"function"===typeof i.toArray&&(i=i.toArray());var o=Object.prototype.toString.call(i);"[object Array]"!==o&&"[object NodeList]"!==o&&"[object HTMLCollection]"!==o&&(i=[i]);for(var r=0;r<i.length;r++)e(i[r],n)};function e(t,e){if(!n(t)||!e.reProcess&&t.getAttribute("textFitted"))return!1;var r,c,l,m,d,_,g;if(e.reProcess||t.setAttribute("textFitted",1),l=t.innerHTML,m=a(t),c=i(t),!m||!e.widthOnly&&!c)throw e.widthOnly?new Error("Set a static width on the target element "+t.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+t.outerHTML+" before using textFit!");-1===l.indexOf("textFitted")?(r=document.createElement("span"),r.className="textFitted",r.style["display"]="inline-block",r.innerHTML=l,t.innerHTML="",t.appendChild(r)):(r=t.querySelector("span.textFitted"),s(r,"textFitAlignVert")&&(r.className=r.className.replace("textFitAlignVert",""),r.style["height"]="",t.className.replace("textFitAlignVertFlex",""))),e.alignHoriz&&(t.style["text-align"]="center",r.style["text-align"]="center");var p=e.multiLine;e.detectMultiLine&&!p&&r.scrollHeight>=2*parseInt(window.getComputedStyle(r)["font-size"],10)&&(p=!0),p||(t.style["white-space"]="nowrap"),d=e.minFontSize,g=e.maxFontSize;var h=d;while(d<=g)_=g+d>>1,r.style.fontSize=_+"px",r.scrollWidth<=m&&(e.widthOnly||r.scrollHeight<=c)?(h=_,d=_+1):g=_-1;if(r.style.fontSize!=h+"px"&&(r.style.fontSize=h+"px"),e.alignVert){o();var u=r.scrollHeight;"static"===window.getComputedStyle(t)["position"]&&(t.style["position"]="relative"),s(r,"textFitAlignVert")||(r.className=r.className+" textFitAlignVert"),r.style["height"]=u+"px",e.alignVertWithFlexbox&&!s(t,"textFitAlignVertFlex")&&(t.className=t.className+" textFitAlignVertFlex")}}function i(t){var e=window.getComputedStyle(t,null);return t.clientHeight-parseInt(e.getPropertyValue("padding-top"),10)-parseInt(e.getPropertyValue("padding-bottom"),10)}function a(t){var e=window.getComputedStyle(t,null);return t.clientWidth-parseInt(e.getPropertyValue("padding-left"),10)-parseInt(e.getPropertyValue("padding-right"),10)}function n(t){return"object"===typeof HTMLElement?t instanceof HTMLElement:t&&"object"===typeof t&&null!==t&&1===t.nodeType&&"string"===typeof t.nodeName}function s(t,e){return(" "+t.className+" ").indexOf(" "+e+" ")>-1}function o(){if(!document.getElementById("textFitStyleSheet")){var t=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),e=document.createElement("style");e.type="text/css",e.id="textFitStyleSheet",e.innerHTML=t,document.body.appendChild(e)}}}))},90904:function(t,e,i){"use strict";var a=i(81899),n=i(58725);function s(){const t=document.createElement("canvas");return t.style.display="none",document.body.appendChild(t),t}function o(t,e,i){const a=t.width,n=t.height;return i.width=a,i.height=n,e.clearRect(0,0,a,n),e.drawImage(t,0,0,a,n),i.toDataURL()}function r(t,e,i){return new Promise(((a,n)=>{if(t.dataset){const s=t.dataset.isload;if("no"!==s)return void a({msg:"isLoad"});const r=t.dataset.src||"",c=new Image;c.crossOrigin="Anonymous",c.onload=()=>{const n=o(c,e,i);a({node:t,base64:n})},c.onerror=e=>n({err:e,node:t}),c.src=r}else n({err:"no src",node:t})}))}function c(t,e){return new Promise(((i,n)=>{const s=(0,a.A)("common_bg_gameicon",!1),r=new Image;r.crossOrigin="Anonymous",r.onload=()=>{const a=o(r,t,e);i(a)},r.onerror=()=>{i(s)},r.src=s}))}async function l(t,e,i){const a=await c(e,i);for(let n of t)if(Array.isArray(n)){const t=await Promise.allSettled(n.map((t=>r(t,e,i))));t.forEach((t=>{if("fulfilled"!==t.status||t.value.msg){if("rejected"===t.status){const{node:e}=t.reason;m(e,a)}}else{const{node:e,base64:i}=t.value;m(e,i)}}))}}function m(t,e){t.setAttribute("src",e),t.setAttribute("data-isload","yes");const i=t.parentNode;if(i){i.style.visibility="visible";const t=i.parentNode;t&&t.classList.remove("mask-loading")}}function d(t=6){const e=s(),i=e.getContext("2d"),a=document.querySelectorAll(".load_game_img");if(a&&a.length){const s=(0,n.O6)(Array.from(a),t);l(s,i,e)}document.body.removeChild(e)}e.A=d}}]);
//# sourceMappingURL=854.b189f31a.js.map