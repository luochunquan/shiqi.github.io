{"version":3,"file":"1741422703035dib6akwz70g/723.50b1451f.js","mappings":"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","sources":["webpack://cc_web_client/./modules/menu/featured.vue?b2d9","webpack://cc_web_client/modules/menu/featured.vue","webpack://cc_web_client/./modules/menu/featured.vue?ec5b","webpack://cc_web_client/./modules/menu/featured.vue"],"sourcesContent":["import { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VProgressLinear } from 'vuetify/lib/components/VProgressLinear';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c(VContainer,{ref:\"boxIds\",staticClass:\"featured_box\"},[_c('div',{staticClass:\"featured_top\"},[_c('site-map',{attrs:{\"title\":_vm.name},on:{\"click-left\":_vm.doBack}}),_c('div',{staticClass:\"featured_search\"},[_c(VTextField,{staticClass:\"search-field input_radius\",attrs:{\"background-color\":\"t_input_light_bg\",\"outlined\":\"\",\"placeholder\":_vm.$t('General.General_5'),\"height\":_vm.loadVariables('search_field_height'),\"hide-details\":\"\",\"single-line\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\"},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('template',{slot:\"prepend-inner\"},[_c('icon-font',{staticClass:\"prepend-icon\",attrs:{\"name\":\"icon-Icon_Search\",\"size\":_vm.loadVariables('icon_search_size')}})],1)],2)],1)],1),(_vm.isSkeleton)?_c('space-ui',{attrs:{\"sign\":\"grid_list\"}}):(_vm.newList.length)?[_c('game-grid',{attrs:{\"list\":_vm.newList.slice(0, _vm.pageSize)},on:{\"toGame\":_vm.toGame}}),_c('footer',{staticClass:\"featured_pagination\"},[_c('div',{staticClass:\"progress_w\"},[_c(VProgressLinear,{attrs:{\"color\":\"t_process_dark_piece\",\"background-color\":\"t_process_dark_bg\",\"rounded\":\"\",\"value\":parseFloat(_vm.pageSize / _vm.newList.length).toFixed(2) * 100}})],1),_c('div',{staticClass:\"featured_tips\"},[_vm._v(_vm._s(_vm.tips))]),(_vm.pageSize < _vm.newList.length)?_c('button',{staticClass:\"btn--theme\",on:{\"click\":_vm.goNext}},[_vm._v(\" \"+_vm._s(_vm.$t('General.General_8'))+\" \")]):_vm._e()])]:_c('empty')],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container ref=\"boxIds\" class=\"featured_box\">\r\n    <div class=\"featured_top\">\r\n      <site-map :title=\"name\" @click-left=\"doBack\" />\r\n      <div class=\"featured_search\">\r\n        <v-text-field\r\n          v-model=\"keywords\"\r\n          class=\"search-field input_radius\"\r\n          background-color=\"t_input_light_bg\"\r\n          outlined\r\n          :placeholder=\"$t('General.General_5')\"\r\n          :height=\"loadVariables('search_field_height')\"\r\n          hide-details\r\n          single-line\r\n          solo\r\n          flat\r\n          dense\r\n        >\r\n          <template slot=\"prepend-inner\">\r\n            <icon-font class=\"prepend-icon\" name=\"icon-Icon_Search\" :size=\"loadVariables('icon_search_size')\" />\r\n          </template>\r\n        </v-text-field>\r\n      </div>\r\n    </div>\r\n    <!-- 骨架屏 -->\r\n    <space-ui v-if=\"isSkeleton\" sign=\"grid_list\" />\r\n    <!-- 游戏列表 -->\r\n    <template v-else-if=\"newList.length\">\r\n      <game-grid :list=\"newList.slice(0, pageSize)\" @toGame=\"toGame\" />\r\n      <!-- 分页进度显示 -->\r\n      <footer class=\"featured_pagination\">\r\n        <div class=\"progress_w\">\r\n          <v-progress-linear\r\n            color=\"t_process_dark_piece\"\r\n            background-color=\"t_process_dark_bg\"\r\n            rounded\r\n            :value=\"parseFloat(pageSize / newList.length).toFixed(2) * 100\"\r\n          ></v-progress-linear>\r\n        </div>\r\n        <div class=\"featured_tips\">{{ tips }}</div>\r\n        <button v-if=\"pageSize < newList.length\" class=\"btn--theme\" @click=\"goNext\">\r\n          {{ $t('General.General_8') }}\r\n        </button>\r\n      </footer>\r\n    </template>\r\n    <empty v-else></empty>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters } from 'vuex'\r\nimport GameGrid from './ui/game-grid.vue'\r\nimport { GRID_LIST_PAGE_SIZE } from '@/api/setting'\r\nimport ContainerMixin from '@/components/containerMixin'\r\nimport spaceUi from '@/components/skeleton/space-ui.vue'\r\nimport Empty from '@/components/ui/empty'\r\nimport { getFactoryGameList } from '@/api/modules/config'\r\nimport SiteMap from '@/components/ui/site-map'\r\nimport variables from '@style/views/menu.index.modules.scss'\r\nimport gameAPI from '@/utils/game/gameAPI'\r\n\r\nlet originList = [] // 游戏厂商原始数据\r\n\r\nexport default {\r\n  name: 'GameFeatured',\r\n  components: {\r\n    GameGrid,\r\n    spaceUi,\r\n    Empty,\r\n    SiteMap\r\n  },\r\n  mixins: [ContainerMixin],\r\n  data() {\r\n    return {\r\n      pageSize: GRID_LIST_PAGE_SIZE, // 默认最小值\r\n      keywords: '',\r\n      gameDialog: false,\r\n      gameUrl: '',\r\n      newList: [],\r\n      isFactory: false, // 是否厂家游戏入口\r\n      isSkeleton: true // 是否显示骨架屏\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('base', ['user', 'isApp', 'systemConfig', 'languageType', 'dataVersion']),\r\n    ...mapState('source', ['collectGames', 'recent', 'gamelist', 'otherFactory']),\r\n    name() {\r\n      return this.$route.query.type_name\r\n    },\r\n    tips() {\r\n      if (this.pageSize < this.newList.length) {\r\n        const x = this.newList.length < GRID_LIST_PAGE_SIZE ? this.newList.length : this.pageSize\r\n        const y = this.newList.length\r\n        return this.$t('UI_outros_tip', { X: x, Y: y })\r\n      } else {\r\n        return this.$t('UI_outros_noMore')\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    keywords(val) {\r\n      this.search(val)\r\n    }\r\n  },\r\n  async created() {\r\n    this.isSkeleton = true\r\n    const { render, factory_id } = this.$route.query\r\n    // 厂商入口\r\n    if (render === 'factory') {\r\n      this.isFactory = true\r\n      await this.initFactoryGames(factory_id)\r\n    } else {\r\n      this.newList = this.gamelist\r\n    }\r\n    setTimeout(() => {\r\n      this.isSkeleton = false\r\n    }, 500)\r\n  },\r\n  methods: {\r\n    ...mapGetters('source', ['getExperienceAuth']),\r\n    loadVariables(name) {\r\n      return variables[name]\r\n    },\r\n    async initFactoryGames(id) {\r\n      // 缓存取厂商地下所有游戏\r\n      gameAPI.findGameFactory(id).then(data => {\r\n        originList = data\r\n        this.newList = data\r\n      })\r\n    },\r\n    search(val) {\r\n      this.isSkeleton = true\r\n      const filterList = this.isFactory ? originList : this.gamelist\r\n      if (val) {\r\n        this.$u.debounce(() => {\r\n          // 模糊搜索\r\n          const ret = filterList.filter(el => el.gameName.toUpperCase().indexOf(val.trim().toUpperCase()) > -1)\r\n          this.newList = ret\r\n        })\r\n      } else {\r\n        this.newList = filterList\r\n      }\r\n      this.pageSize = GRID_LIST_PAGE_SIZE\r\n      setTimeout(() => {\r\n        this.isSkeleton = false\r\n      }, 500)\r\n    },\r\n\r\n    doBack() {\r\n      this.$router.go(-1)\r\n    },\r\n    goNext() {\r\n      if (this.pageSize < this.newList.length) {\r\n        this.pageSize += GRID_LIST_PAGE_SIZE\r\n      }\r\n    },\r\n    toGame(game = {}) {\r\n      this.$store.dispatch('game/enterTheGame', {\r\n        game,\r\n        vm: this,\r\n        manufacturer: {\r\n          factoryIsShow: this.$route.query.factoryIsShow\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@style/views/menu.index.modules.scss';\r\n.featured_box {\r\n  padding: $lobby_box_pa !important;\r\n  .featured_top {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    flex-wrap: wrap;\r\n    margin: $featured_top_ma;\r\n    .featured_search {\r\n      width: $field_search_width;\r\n      .search-field {\r\n        font-size: $search_field_font_size;\r\n        .prepend-icon {\r\n          margin-right: $search_field_prepend_icon_mr;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .featured_pagination {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    margin-top: $featured_pagination_mt;\r\n    .progress_w {\r\n      width: $progress_width;\r\n    }\r\n    .featured_tips {\r\n      margin: $featured_tips_ma;\r\n      font-size: $featured_tips_font_size;\r\n    }\r\n  }\r\n}\r\n\r\n@include breakpoint-only-xs() {\r\n  .featured_box {\r\n    .featured_top {\r\n      margin: $xs_featured_top_ma;\r\n      .featured_search {\r\n        width: 100%;\r\n        margin-top: $xs_field_search_mt;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./featured.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./featured.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./featured.vue?vue&type=template&id=4ed5d996&scoped=true\"\nimport script from \"./featured.vue?vue&type=script&lang=js\"\nexport * from \"./featured.vue?vue&type=script&lang=js\"\nimport style0 from \"./featured.vue?vue&type=style&index=0&id=4ed5d996&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ed5d996\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","VContainer","ref","staticClass","attrs","name","on","doBack","VTextField","$t","loadVariables","model","value","callback","$$v","keywords","expression","slot","newList","slice","pageSize","toGame","VProgressLinear","parseFloat","length","toFixed","_v","_s","tips","goNext","_e","staticRenderFns","originList","components","GameGrid","spaceUi","Empty","SiteMap","mixins","data","gameDialog","gameUrl","isFactory","isSkeleton","computed","$route","query","type_name","x","y","X","Y","watch","val","search","created","factory_id","initFactoryGames","gamelist","setTimeout","methods","id","gameAPI","findGameFactory","then","filterList","$u","debounce","ret","filter","el","gameName","toUpperCase","indexOf","trim","$router","go","game","$store","dispatch","vm","manufacturer","factoryIsShow","component"],"sourceRoot":""}