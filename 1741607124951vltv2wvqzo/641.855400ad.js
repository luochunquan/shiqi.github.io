"use strict";(self["webpackChunkcc_web_client"]=self["webpackChunkcc_web_client"]||[]).push([[641],{38641:function(t,e,s){s.r(e),s.d(e,{default:function(){return at}});var i=s(88318),a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"refer_gift"},[e("div",{staticClass:"refer_gift_box"},[e("div",{staticClass:"refer_gift_top"},[e("span",[t._v(" "+t._s(t.$t("UI_Receive_Tit",{Currency:t.currencySymbol,amount:t.activityInvite?.activity_user_task?.total_amount}))+" ")]),e("icon-font",{staticClass:"refer_gift_top_icon",attrs:{name:"icon-Icon_question",size:t.variables.refer_gift_top_icon_size,dark:t.variables.refer_gift_top_icon_color},on:{click:t.onRull}})],1),e("div",{staticClass:"refer_gift_progress"},[e("div",{staticClass:"refer_gift_progress_box"}),e("div",{staticClass:"refer_gift_progress_view"},[e("div",{staticClass:"refer_gift_progress_top"},[e("div",{staticClass:"progress_top_money"},[e("img",{attrs:{src:t.loadIcon("refer_gift_money",!1),alt:""}}),t._v(" "+t._s(t.currencySymbol)+" "),e("span",{staticClass:"progress_top_money_text"},[e("CountTo",{attrs:{startVal:t.startVal,endVal:t.endVal,duration:t.duration,decimals:t.decimals}})],1)]),e(i.A,{staticClass:"refer_sacar_btn",class:t.activityInvite?.activity_user_task?.withdraw_state?"disabled":"",on:{click:t.onSacarBtn}},[e("img",{staticClass:"sacar_btn_box_img",attrs:{src:t.loadIcon("refer_quest_gold",!1),alt:""}}),e("div",{staticClass:"sacar_btn_box_text"},[t._v(" "+t._s(t.$t("UIWheelWithDraw"))+" ")])])],1),e("div",{staticClass:"refer_gift_progress_bottom"},[e("referProgress",{attrs:{progress:t.progressValue,strokeWidth:10,showInfo:!1}}),e("div",{staticClass:"refer_gift_progress_bottom_text",domProps:{innerHTML:t._s(t.$t("UI_Refer_Withdrawal_Text",{x:t.remainValue}))}})],1)])]),e("div",{staticClass:"refer_gift_turntable"},[t.isTurntableShow?e("movable-turntable",{ref:"turntableRef",attrs:{isGoldState:t.isGoldState,plusSizeLeft:t.plusSizeLeft,plusSizeTop:t.plusSizeTop,goldAnimationClass:t.goldAnimationClass,turntableBg:t.turntableBg,size:t.sizeFn,isBottomBg:!1},on:{stopLucky:t.stopLucky}}):t._e(),e("refer-messbox",{ref:"referMessbox"})],1),e("div",{staticClass:"refer_gift_Share"},[e("div",{staticClass:"refer_gift_Share_box"},[e("div",{staticClass:"refer_gift_Share_text"},[t._v(" "+t._s(t.shareLink)+" ")]),e(i.A,{staticClass:"refer_gift_Share_btn",on:{click:t.onShare}},[e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-fenxiang1",size:t.variables.share_btn_icon_size,dark:t.variables.share_btn_icon_color}})],1)],1)]),e("div",{staticClass:"refer_gift_tips"},[t._v(" "+t._s(t.$t("UI_Withdrawals_Tips"))+" ")]),e("div",{staticClass:"refer_gift_table"},[e("btn-tab",{attrs:{width:t.variables.refer_gift_simple_tab_container_btn_tab_width,radius:t.variables.refer_gift_simple_tab_container_btn_tab_radius,"tag-list":t.tabs,defaultBg:t.variables.refer_gift_simple_tab_container_bg,type:t.btnIndex},on:{changeTab:t.switchFormTab}}),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.btnIndex,expression:"btnIndex == 1"}],staticClass:"refer_gift_table_container"},[e("refer-table",{attrs:{amount:t.activityInvite?.activity_user_task?.total_amount}})],1),e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.btnIndex,expression:"btnIndex == 2"}],staticClass:"refer_gift_table_container"},[e("help-user-table",{attrs:{list:t.helpUserList}})],1)],1)]),e("refer-flow",{ref:"referFlow",on:{change:t.onLink}}),e("refer-rull",{ref:"referRull",attrs:{content:t.activityInvite?.activity_info?.desc}}),e("refer-link",{ref:"referLink",attrs:{linkUrl:t.activityInvite?.activity_info?.share_link,linkData:t.linkData}})],1)},r=[],n=s(95353),o=s(1219),_=s(38346),l=s(14344),c=s(82066),h={refer_gift_simple_tab_font_size:"14",refer_gift_simple_tab_container_padding:"0 16px",refer_gift_simple_tab_container_btn_tab_margin:"24px 0 0",refer_gift_simple_tab_container_btn_tab_radius:"20px",refer_gift_simple_tab_container_btn_tab_width:"350px",refer_gift_simple_tab_container_bg:"#1d242d",refer_gift_top_icon_size:"20",refer_gift_top_icon_color:"#fff",movable_turntable_item1:"#fec443",movable_turntable_item2:"#f5294b",share_btn_icon_color:"#fff",share_btn_icon_size:"20",item_node_icon_color:"#fff",item_node_icon_size:"20",refer_rull_share_btn_icon_size:"20",refer_rull_share_btn_icon_color:"#838a9b",link_share_btn_icon_color:"#838a9b",link_share_btn_icon_size:"20",link_icon_btn_size:"30",flow_share_btn_icon_size:"20",flow_share_btn_icon_color:"#838a9b",flow_btn_height:"36","v-btn-wrap":"eRwpmgD9IKwcS5Iggm2A","v-btn__content":"w63wWA4FZgkKzNoS_jDg"},d=s(66105),u=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_flow"},[e("div",{staticClass:"wrapper-mask"}),e("div",{staticClass:"refer_flow_box"},[e("div",{staticClass:"flow_top"},[e("div",{staticClass:"flow_top_left"},[t._v(" "+t._s(t.$t("UIwithdrawDetail_TIT"))+" ")]),e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-Icon_Cloose",size:t.variables.flow_share_btn_icon_size,dark:t.variables.flow_share_btn_icon_color},on:{click:t.hide}})],1),e("div",{staticClass:"flow_content"},[e("div",{staticClass:"flow_content_text"},[t._v(t._s(t.$t("UIwithdrawDetail_TIT2")))]),e("div",{staticClass:"flow_content_gold"},[t._v(" "+t._s(t.currencySymbol)+" "+t._s(this.activityInvite?.activity_user_task?.progress_amount)+" ")])]),e("div",{staticClass:"flow_box"},[e("time-line")],1),e("div",{staticClass:"flow_btn"},[e(i.A,{staticClass:"btn_radius sacar_btn",attrs:{height:t.variables.flow_btn_height,width:"100%",color:"t_primary_dark_color"},on:{click:t.onLine}},[e("div",[t._v(t._s(t.$t("UIwithdrawDetail_TIT6")))])])],1)])]):t._e()},f=[],v=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"timeline"},t._l(t.list,(function(s,i){return e("li",{key:i,staticClass:"timeline_item"},[t.list.length-1!=i?e("div",{staticClass:"item_tail"}):t._e(),e("div",{staticClass:"item_node"}),t.list.length-1!=i?e("icon-font",{staticClass:"item_node_icon",attrs:{name:"icon-icon_check_mark",size:t.variables.item_node_icon_size,dark:t.variables.item_node_icon_color}}):t._e(),e("div",{staticClass:"item_wrapper"},[e("div",{staticClass:"item_content"},[t._v(t._s(s.content))])])],1)})),0)},m=[],b=s(58725),p={data(){return{variables:h}},computed:{...(0,n.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,n.aH)("source",["activityInvite"]),...(0,n.aH)("switchState",["currencyShow"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""},remainValue(){let t=this.getToFixed(parseFloat(this.activityInvite?.activity_user_task?.total_amount)-parseFloat(this.activityInvite.activity_user_task.progress_amount));return t},totalAmount(){return this.getToFixed(parseFloat(this.activityInvite?.activity_user_task?.total_amount))},list(){return[{content:this.$t("UIwithdrawDetail_TIT2")},{content:this.$t("UIwithdrawDetail_TIT4",{amount:this.remainValue})},{content:this.$t("UIwithdrawDetail_TIT5",{amount:this.currencySymbol+this.totalAmount})}]}},methods:{getToFixed(t,e=2){return(0,b.wT)(t,e)}}},g=p,w=s(845),C=(0,w.A)(g,v,m,!1,null,"2610297c",null),k=C.exports,y={components:{referProgress:_.A,referTable:l.A,timeLine:k},data(){return{state:!1,variables:h}},computed:{...(0,n.aH)("dialog"),...(0,n.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,n.aH)("source",["activityInvite"]),...(0,n.aH)("switchState",["currencyShow"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""}},methods:{show(){this.state=!this.state},hide(){this.state=!1},onLine(){this.$emit("change")}}},I=y,x=(0,w.A)(I,u,f,!1,null,"03326294",null),T=x.exports,S=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_rull"},[e("div",{staticClass:"wrapper-mask"}),e("div",{staticClass:"refer_rull_box"},[e("div",{staticClass:"rull_top"},[e("div",{staticClass:"rull_top_left"}),e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-Icon_Cloose",size:t.variables.refer_rull_share_btn_icon_size,dark:t.variables.refer_rull_share_btn_icon_color},on:{click:t.hide}})],1),e("div",{staticClass:"rull_title"},[t._v(" "+t._s(t.$t("UI.Settings_0_main_5"))+" ")]),e("div",{staticClass:"rull_content",domProps:{innerHTML:t._s(t.getContent(t.content))}})])]):t._e()},$=[],z={props:{content:{type:String,default:""}},data(){return{state:!1,variables:h}},computed:{...(0,n.aH)("dialog",["popupState"]),...(0,n.aH)("base",["isApp"])},watch:{popupState(t){t||(this.state=!1,this.remove&&this.remove())}},methods:{show(){this.state=!this.state},hide(){this.state=!1,this.remove&&this.remove()},getContent(t){return(0,b._w)(t)}}},A=z,U=(0,w.A)(A,S,$,!1,null,"9d43bcd8",null),L=U.exports,R=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_link"},[e("div",{staticClass:"wrapper-mask"}),e("div",{staticClass:"refer_link_box"},[e("div",{staticClass:"link_top"},[e("div",{staticClass:"link_top_left"},[t._v(" "+t._s(t.$t("UIWheelShareTit"))+" ")]),e("icon-font",{staticClass:"share_btn_icon",attrs:{name:"icon-Icon_Cloose",size:t.variables.link_share_btn_icon_size,dark:t.variables.link_share_btn_icon_color},on:{click:t.hide}})],1),e("div",{staticClass:"link_content"},[e("div",{staticClass:"link_content_Share"},[e("div",{staticClass:"link_content_Share_text"},[t._v(t._s(t.linkUrl))]),e(i.A,{staticClass:"link_content_Share_btn",on:{click:t.onCopy}},[t._v(" "+t._s(t.$t("UI_copy"))+" ")])],1),e("div",{ref:"QRCrodeRef",staticClass:"link_content_code"}),e("div",{staticClass:"link_content_text"},[t._v(" "+t._s(t.$t("UI_UIPromoteMain_1"))+" ")]),e("div",{staticClass:"link_btn"},[e(i.A,{staticClass:"btn_radius sacar_btn",attrs:{height:"36",width:"100%",color:"t_primary_dark_color"},on:{click:t.downloadIamge}},[e("div",[t._v(t._s(t.$t("UI_UIPromoteMain_2")))])])],1),e("div",{staticClass:"link_icon"},[e("div",{staticClass:"link_icon_title"},[t._v(t._s(t.$t("UI_Promote_ShareTitle")))]),e("div",{staticClass:"link_icon_btn"},t._l(t.shareLinkArr,(function(s){return e("icon-font",{directives:[{name:"zoom",rawName:"v-zoom"}],key:s.id,staticClass:"party cursor_point",attrs:{name:s.icon,size:t.variables.link_icon_btn_size},on:{click:function(e){return t.onShareLink(s.sign)}}})})),1)])])]),e("a",{attrs:{id:"downloadQRCODE"}})]):t._e()},F=[],D=s(79118),H=s.n(D),E=s(17965),N=s.n(E),V=s(64643),G=s(61384),Q={props:{linkUrl:{type:String,default:""},linkData:{type:Object,default:()=>({})}},data(){return{state:!1,qrcode:null,variables:h}},computed:{...(0,n.aH)("dialog",["popupState"]),...(0,n.aH)("base",["isApp","systemConfig","user"]),shareLinkArr(){const{share_app:t=[]}=this.systemConfig,e=[{id:"1",icon:"icon-icon_refer_whatsapp",sign:"whatsapp"},{id:"2",icon:"icon-icon_refer_facebook",sign:"facebook"},{id:"3",icon:"icon-icon_refer_line",sign:"line"},{id:"4",icon:"icon-icon_refer_zalo",sign:"zalo"},{id:"5",icon:"icon-icon_TG",sign:"TG"},{id:"6",icon:"icon-icon_twitter",sign:"twitter"}];return e.map((e=>t.includes(e.id)?e:null)).filter((t=>t))}},methods:{show(){this.state=!this.state,this.$nextTick((()=>{this.createQrcode()}))},hide(){this.state=!1,this.remove&&this.remove()},createQrcode(){this.$refs["QRCrodeRef"]&&(this.qrcode&&(this.$refs["QRCrodeRef"].innerHTML=""),this.qrcode=new(H())(this.$refs["QRCrodeRef"],{id:"qrCrodeId",text:this.linkUrl,width:100,height:100,correctLevel:H().CorrectLevel.Q}))},onCopy(){const t=N()(this.linkUrl);t&&(this.$pop.message().show({content:this.$t("UI_Copied")}),(0,V.cO)({token:this.user.token}))},downloadIamge(){const t=Array.prototype.slice.call(this.qrcode?._el?.children||[]),e=t[0];if(e&&e.nodeName&&"canvas"==e.nodeName.toLocaleLowerCase()){const t=e.toDataURL("image/png");document.getElementById("downloadQRCODE").setAttribute("href",t),document.getElementById("downloadQRCODE").setAttribute("download",`${(new Date).getTime()}.png`),document.getElementById("downloadQRCODE").click(),this.$pop.message().show({content:this.$t("UI_Download_Iamge")}),(0,b.H$)()&&(0,b.lK)("saveQR",{str:t},(new Date).getTime())}},onShareLink(t=""){if(!t)return;const{share_content:e="",link:s=""}=this.linkData;switch(t){case"whatsapp":open(`${G.h7}?text=${e}    ${s}`);break;case"facebook":open(`${G.$L}?u=${s}&content=${e}`);break;case"line":(0,b.H$)()?(0,b.lK)("LineAppShareUrl",{url:e+"    "+s}):open(`${G.TT}?text=${e}&url=${encodeURIComponent(s)}`);break;case"zalo":(0,b.H$)()&&(0,b.lK)("zaloShareCallback",{msg:e,link:s});break;case"TG":open(`${G.eO}?text=${encodeURIComponent(e)}&url=${encodeURIComponent(s)}`);break;case"twitter":open(`${G.i_}?text=${encodeURIComponent(e)}&url=${encodeURIComponent(s)}`);break;default:break}}}},B=Q,W=(0,w.A)(B,R,F,!1,null,"051bb294",null),O=W.exports,P=function(){var t=this,e=t._self._c;return t.state?e("div",{directives:[{name:"zinx",rawName:"v-zinx"}],staticClass:"comp refer_messbox"},[e("div",{staticClass:"refer_messbox_box"},[e("div",{staticClass:"messbox_box"},[e("div",{staticClass:"messbox_box_content"}),e("div",{staticClass:"messbox_box_view"},[e("div",{staticClass:"messbox_box_title"},[t._v(" "+t._s(t.$t("UI_Congratulations"))+" ")]),e("img",{staticClass:"messbox_box_img",attrs:{src:t.getCacheIcon("referGift_turntable_gold"),alt:""}})])])])]):t._e()},q=[],M=s(13938),K={components:{},data(){return{state:!1,variables:h}},computed:{...(0,n.aH)("base",["isApp"])},methods:{show(){this.state=!this.state},hide(){this.state=!1},getCacheIcon(t){const e=(0,M.kU)(t);return"string"===typeof e?e:e.value.src}}},j=K,Z=(0,w.A)(j,P,q,!1,null,"b7aed1f8",null),J=Z.exports,X=s(81899),Y=s(65874),tt=s.n(Y),et={name:"referGift",components:{movableTurntable:o.A,referProgress:_.A,btnTab:d.A,referTable:l.A,referFlow:T,referRull:L,referLink:O,helpUserTable:c.A,referMessbox:J,CountTo:tt()},data(){return{variables:h,btnIndex:1,linkData:{},helpUserList:[],isTurntableShow:!0,startVal:1,duration:1500,progressValue:0,goldAnimationClass:"bank_account_btn_text",isGoldState:!0,plusSizeTop:0,plusSizeLeft:50}},watch:{isApp(t){this.isTurntableShow=!1,this.$refs.turntableRef&&this.$refs.turntableRef.destroy(),setTimeout((()=>{this.isTurntableShow=!0}),100)},activityInvite:{deep:!0,handler:function(t,e){const{activity_user_task:s={}}=t;if(s){const{progress_amount:t=0,total_amount:e=0}=s;setTimeout((()=>{this.progressValue=this.getToFixed(100*parseFloat(t/e))}),200)}}}},computed:{...(0,n.aH)("base",["isApp","user","languageType","systemConfig"]),...(0,n.aH)("source",["activityInvite"]),...(0,n.aH)("switchState",["currencyShow"]),currencySymbol(){return this.currencyShow?this.systemConfig.currency_symbol:""},remainValue(){let t=this.getToFixed(parseFloat(this.activityInvite?.activity_user_task?.total_amount)-parseFloat(this.activityInvite?.activity_user_task?.progress_amount))||0;return`<span style='color: #FFCE5C;font-size: 20px;'>${t}</span>`},shareLink(){return this.activityInvite?.activity_info?.share_link},sizeFn(){const{offsetWidth:t=0}=document.body;return this.isApp?t:624},tabs(){return[{name:this.$t("UIWheelReport"),value:1},{name:this.$t("UIWheelReference"),value:2}]},turntableBg(){return[this.variables.movable_turntable_item1,this.variables.movable_turntable_item2]},endVal(){return setTimeout((()=>{this.startVal=Number(this.activityInvite?.activity_user_task?.progress_amount||0)}),this.duration),Number(this.activityInvite?.activity_user_task?.progress_amount||0)},decimals(){const t=this.activityInvite?.activity_user_task?.progress_amount.toString();return t?.split(".")?.[1]?.length||0}},created(){this.activityInvite?.activity_user_task||this.$router.push({name:"menu"})},methods:{stopLucky(t){const{type:e=2}=t;2==e&&(this.plusSizeTop=0,this.plusSizeLeft=30,this.goldAnimationClass="progress_top_money_text"),1==e&&(this.plusSizeTop=10,this.plusSizeLeft=50,this.goldAnimationClass="bank_account_btn_text",this.$store.commit("base/SET_IS_REFRESH_USER",!0),this.$store.commit("source/SET_INVITE_GIFT_GOLD",t?.value||0),setTimeout((()=>{this.user.gold=Number(this.user.gold)+Number(t?.value||0),this.$store.commit("base/SET_USER",this.user),this.$store.commit("source/SET_INVITE_GIFT_GOLD",0)}),2e3))},onSacarBtn(){const{withdraw_state:t=0,progress_amount:e=0,total_amount:s=0}=this.activityInvite?.activity_user_task;t||(Number(e)>=Number(s)?this.$store.dispatch("modal/setDepositWithdrawShow",{tab:"withdraw",entrance:2}):this.$refs.referFlow.show())},switchFormTab({item:t={}}){const{value:e=1}=t;this.btnIndex=e,2==this.btnIndex&&this.getActivityLotteryFn()},getToFixed(t,e=2){return(0,b.wT)(t,e)},onShare(){this.onLink()},onRull(){this.$refs.referRull.show()},async onLink(){const t={token:this.user.token,language:this.languageType},{code:e=0,data:s={}}=await(0,V.hu)(t).catch((t=>t));0==e&&(this.linkData=s,this.$refs.referLink.show())},async getActivityLotteryFn(){const t=this.activityInvite?.activity_user_task?.task_id,e={token:this.user.token,language:this.languageType,task_id:t},{code:s=0,data:i=[]}=await(0,V.fn)(e).catch((t=>t));0==s&&(this.helpUserList=i)},loadIcon:t=>(0,X.A)(t,!1)}},st=et,it=(0,w.A)(st,a,r,!1,null,"4526ab8e",null),at=it.exports}}]);
//# sourceMappingURL=641.855400ad.js.map