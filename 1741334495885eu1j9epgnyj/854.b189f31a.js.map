{"version":3,"file":"1741334495885eu1j9epgnyj/854.b189f31a.js","mappings":"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","sources":["webpack://cc_web_client/./modules/menu/ui/game-card.vue?1afb","webpack://cc_web_client/./_source/styles/views/menu.game_card.modules.scss","webpack://cc_web_client/modules/menu/ui/game-card.vue","webpack://cc_web_client/./modules/menu/ui/game-card.vue?1d57","webpack://cc_web_client/./modules/menu/ui/game-card.vue","webpack://cc_web_client/./modules/menu/ui/game-grid.vue?c72b","webpack://cc_web_client/modules/menu/ui/game-grid.vue","webpack://cc_web_client/./modules/menu/ui/game-grid.vue?33e4","webpack://cc_web_client/./modules/menu/ui/game-grid.vue","webpack://cc_web_client/./_source/styles/views/menu.index.modules.scss","webpack://cc_web_client/./node_modules/textfit/textFit.js","webpack://cc_web_client/./src/utils/loadGameImg.js"],"sourcesContent":["import { VBtn } from 'vuetify/lib/components/VBtn';\n\nvar render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"game-card mask-loading\",style:(_vm.sizeStyle)},[_c('div',{staticClass:\"image-wrapper\",on:{\"click\":function($event){return _vm.goIntoGame(0)}}},[_c('img',{staticClass:\"load_game_img\",class:{ load_game_img_recent: _vm.scene === 'recent' },style:(_vm.sizeStyle),attrs:{\"data-src\":_vm.pictureLink,\"data-isload\":\"no\",\"src\":_vm.default_image_bg}}),(_vm.showMeta)?_c('div',{class:['card_bottom_meta', _vm.scene === 'recent' && 'scene_by_recent'],style:(_vm.maskLoad)},[(_vm.gameShowState)?[_c('div',{ref:\"metaName\",staticClass:\"card_meta_main\"},[_vm._v(_vm._s(_vm.game.gameName))]),_c('div',{ref:\"metaProducer\",staticClass:\"card_meta_sub\"},[_vm._v(_vm._s(_vm.manufactorText))])]:_vm._e()],2):_vm._e(),(_vm.isCollect)?[_c('span',{staticClass:\"collect\",on:{\"click\":function($event){$event.stopPropagation();return _vm.collect(_vm.game)}}},[_c('icon-font',{attrs:{\"name\":_vm.collectIconName,\"size\":_vm.commonStyle('collect_icon_size')}})],1)]:_vm._e(),(!_vm.isApp)?_c('div',{staticClass:\"card-action\"},[(_vm.gameShowState)?_c('div',{staticClass:\"action-title\"},[_vm._v(_vm._s(_vm.game.gameName))]):_vm._e(),_c(VBtn,{staticClass:\"btn-play\",attrs:{\"color\":\"t_btn_host_color\"}},[_c('icon-font',{attrs:{\"name\":\"icon-Icon_triangle\",\"size\":_vm.commonStyle('icon_play_size')}}),_c('span',{staticClass:\"btn-play-text\"},[_vm._v(\" \"+_vm._s(_vm.$t('General.General_play')))])],1)],1):_vm._e()],2),(_vm.isMaintain)?_c('div',{staticClass:\"mask-tips\",on:{\"click\":_vm.showTips}},[_c('icon-font',{attrs:{\"name\":\"icon-Icon_Time\",\"size\":_vm.commonStyle('icon_timer_size')}}),_c('div',{staticClass:\"mask-tips-content\"},[_c('span',[_vm._v(_vm._s(_vm.$u.getFormatDate({ date: _vm.maintainData.mtc_st_date, pattern: 5 })))]),_c('span',[_vm._v(\"~\")]),_c('span',[_vm._v(_vm._s(_vm.$u.getFormatDate({ date: _vm.maintainData.mtc_end_date, pattern: 5 })))])])],1):_vm._e(),(_vm.tagImg && _vm.isCollect)?[_c('img',{staticClass:\"card_tag\",class:{ tag_pc: !_vm.isApp },attrs:{\"src\":_vm.tagImg,\"alt\":\"\"}})]:_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// extracted by mini-css-extract-plugin\nexport default {\"collect_icon_size\":\"32\",\"icon_play_size\":\"10\",\"icon_timer_size\":\"48\",\"game_name_font_size\":\"17\",\"game_producer_font_size\":\"12\",\"card_by_recent_game_name_font_size_app\":\"8\",\"card_by_recent_game_name_font_size_pc\":\"16\",\"card_by_recent_producer_font_size_app\":\"8\",\"card_by_recent_producer_font_size_pc\":\"12\",\"v-btn-wrap\":\"GIG_c0A6sbp0U1FMQ6tU\",\"v-btn__content\":\"J_nYT76zF88ahV1FB8ns\",\"bgTrans\":\"Q4T8y7nyRnImTojD3lvE\"};","<template>\r\n  <div class=\"game-card mask-loading\" :style=\"sizeStyle\">\r\n    <div class=\"image-wrapper\" @click=\"goIntoGame(0)\">\r\n      <!-- class: load_game_img; data-isload; data-src; 主要用于图片加载 -->\r\n      <img\r\n        class=\"load_game_img\"\r\n        :class=\"{ load_game_img_recent: scene === 'recent' }\"\r\n        :data-src=\"pictureLink\"\r\n        data-isload=\"no\"\r\n        :src=\"default_image_bg\"\r\n        :style=\"sizeStyle\"\r\n      />\r\n      <div v-if=\"showMeta\" :class=\"['card_bottom_meta', scene === 'recent' && 'scene_by_recent']\" :style=\"maskLoad\">\r\n        <template v-if=\"gameShowState\">\r\n          <div ref=\"metaName\" class=\"card_meta_main\">{{ game.gameName }}</div>\r\n          <div ref=\"metaProducer\" class=\"card_meta_sub\">{{ manufactorText }}</div>\r\n        </template>\r\n      </div>\r\n      <template v-if=\"isCollect\">\r\n        <span class=\"collect\" @click.stop=\"collect(game)\">\r\n          <icon-font :name=\"collectIconName\" :size=\"commonStyle('collect_icon_size')\" />\r\n        </span>\r\n      </template>\r\n      <div v-if=\"!isApp\" class=\"card-action\">\r\n        <div class=\"action-title\" v-if=\"gameShowState\">{{ game.gameName }}</div>\r\n        <v-btn class=\"btn-play\" color=\"t_btn_host_color\">\r\n          <icon-font name=\"icon-Icon_triangle\" :size=\"commonStyle('icon_play_size')\" />\r\n          <span class=\"btn-play-text\"> {{ $t('General.General_play') }}</span>\r\n        </v-btn>\r\n      </div>\r\n    </div>\r\n    <div v-if=\"isMaintain\" class=\"mask-tips\" @click=\"showTips\">\r\n      <icon-font name=\"icon-Icon_Time\" :size=\"commonStyle('icon_timer_size')\" />\r\n      <div class=\"mask-tips-content\">\r\n        <span>{{ $u.getFormatDate({ date: maintainData.mtc_st_date, pattern: 5 }) }}</span>\r\n        <span>~</span>\r\n        <span>{{ $u.getFormatDate({ date: maintainData.mtc_end_date, pattern: 5 }) }}</span>\r\n      </div>\r\n    </div>\r\n    <!-- 标签 -->\r\n    <template v-if=\"tagImg && isCollect\">\r\n      <img class=\"card_tag\" :class=\"{ tag_pc: !isApp }\" :src=\"tagImg\" alt=\"\" />\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * task 10325:\r\n * 游戏图片的显示由外部 @/utils/loadGameImg.js 函数处理\r\n * 若该组件中dom结构有改动，请同步修改 @/utils/loadGameImg.js 文件\r\n */\r\nimport { mapState } from 'vuex'\r\nimport loadIcon from '@/assets/icons'\r\nimport textfit from 'textfit'\r\nimport { collect } from '@/utils/collect'\r\nimport variables from '@style/views/menu.game_card.modules.scss'\r\nimport { GAME_TYPE, VUE_APP_SHOW_ICON_OVERLAY, sport_btr_gid, VUE_APP_GAGENAME } from '@/api/setting'\r\nimport { hasShowGuideInstall } from '@/utils/hasShowGuideInstall'\r\n\r\nconst default_image_bg = loadIcon('common_bg_gameicon', false)\r\n\r\nexport default {\r\n  name: 'GameCard',\r\n  props: {\r\n    category: [String, Number],\r\n    game: {\r\n      type: Object,\r\n      default: () => {}\r\n    },\r\n    width: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    height: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    showCollectIcon: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    isViewAll: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 是否显示收藏按钮\r\n    isCollect: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    // 使用场景，default or recent\r\n    scene: {\r\n      type: String,\r\n      default: 'default'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      source: '',\r\n      isMaintain: false,\r\n      maintainData: {},\r\n      namePicture: null,\r\n      factoryPicrure: null,\r\n      default_image_bg,\r\n      gameShowState: VUE_APP_GAGENAME, // 控制游戏名称及厂家是否显示\r\n      manufactorText: '' // 游戏厂家\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState('source', ['gameFactory', 'collectGames', 'recent', 'maintains']),\r\n    ...mapState('base', ['isApp', 'langMoreInfo', 'systemConfig', 'languageType']),\r\n    sizeStyle() {\r\n      return {\r\n        width: this.width,\r\n        height: this.height\r\n      }\r\n    },\r\n    collectIconName() {\r\n      let isCollest = false\r\n      const icon_maps = ['icon-Icon_star_gray', 'icon-Icon_star_light'] // index 0 未收藏 1：已收藏\r\n      const { gameid, id, gid, has_child } = this.game\r\n      if (gameid) {\r\n        if (Array.isArray(this.collectGames) && this.collectGames.some(g => g.gameid == gameid)) isCollest = true\r\n      } else if (has_child) {\r\n        if (Array.isArray(this.collectGames) && this.collectGames.some(g => g.id == id)) isCollest = true\r\n      } else {\r\n        if (Array.isArray(this.collectGames) && this.collectGames.some(g => g.gid == gid)) isCollest = true\r\n      }\r\n      return isCollest ? icon_maps[1] : icon_maps[0]\r\n    },\r\n    showMeta() {\r\n      const isFavitore = this.category === GAME_TYPE.FAVORATE\r\n      return isFavitore || !this.game.isFully\r\n    },\r\n    pictureLink() {\r\n      // 最近游戏 如果是都是显示竖版也就是样式1\r\n      const { pic_url = '', isFully = false } = this.game\r\n      if (this.scene === 'recent') {\r\n        return pic_url\r\n      }\r\n      //  主游戏 图片根据icons 获取\r\n      if (this.game.has_child == 1) {\r\n        return this.isApp ? this.game.pic_phone_url : this.game.pic_pc_url\r\n      } else {\r\n        //如果has_child == 0 并行 entrance_type == 1 直接去pic_url\r\n        if (this.game.entrance_type == 1) {\r\n          return pic_url\r\n        }\r\n        // 如果has_child == 0 并行 entrance_type == 0 判断是不是横屏，如果是横屏取和pic_pc_url\r\n        if (isFully) {\r\n          return this.isApp ? this.game.pic_phone_url : this.game.pic_pc_url\r\n        }\r\n        return pic_url\r\n      }\r\n    },\r\n    // 标签\r\n    tagImg() {\r\n      // tab 2:hot 3:new\r\n      const { tab = 0 } = this.game\r\n      if (tab != 2 && tab != 3) return ''\r\n      const result = loadIcon(tab == 2 ? 'menu_hot_tag' : 'menu_new_tag', false)\r\n      return result\r\n    },\r\n    maskLoad() {\r\n      if (!VUE_APP_SHOW_ICON_OVERLAY && ![1, 2, 3, 4, 5].includes(VUE_APP_SHOW_ICON_OVERLAY)) {\r\n        return this.$loadIcon('common_game_mask', true)\r\n      } else {\r\n        return this.$loadIcon(`common_game_overlay${VUE_APP_SHOW_ICON_OVERLAY}`, true)\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    game: {\r\n      immediate: true,\r\n      handler(params) {\r\n        const { mtc_status = '', mtc_st_date = 0, mtc_end_date = 0 } = params\r\n        // 开始时间是否到达了当前时间\r\n        const beginTime = this.$u.getTimeStamp(new Date(), mtc_st_date)\r\n        // 当前时间是否到达了结束时间\r\n        const endTime = this.$u.getTimeStamp(new Date(), mtc_end_date)\r\n\r\n        this.isMaintain = mtc_status && beginTime && !endTime\r\n        this.maintainData = params\r\n      }\r\n    },\r\n    maintains: {\r\n      deep: true,\r\n      immediate: true,\r\n      handler(list) {\r\n        const sid = list.findIndex(v => v.gid == this.game.gid)\r\n        if (sid > -1) {\r\n          const cur = new Date().getTime()\r\n          const g = list[sid]\r\n          const start = g.mtc_st_date\r\n          const end = g.mtc_end_date\r\n          if (cur >= start && cur <= end) {\r\n            this.isMaintain = list[sid].mtc_status == '1'\r\n          } else {\r\n            this.isMaintain = false\r\n          }\r\n          this.maintainData = g\r\n        }\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    /**\r\n     * 游戏厂家 --> 因为放在 computed 里，会因为 keep-alive 而出现问题，所以这里重新计算\r\n     * show_sub_platform_name_switch 是否显示子厂家 0 不显示 1 显示\r\n     * platform 子厂家id\r\n     * factoryName 总厂家名称\r\n     * sub_platform_name_config 子厂家名称配置\r\n     */\r\n    const { show_sub_platform_name_switch = 0 } = this.systemConfig\r\n    const { platform = null, factoryName = '', sub_platform_name_config = {} } = JSON.parse(JSON.stringify(this.game))\r\n    if (show_sub_platform_name_switch != 1) {\r\n      this.manufactorText = factoryName\r\n    } else {\r\n      const manufactorItem = sub_platform_name_config[platform] || {}\r\n      const name =\r\n        this.languageType != 'en-us' && manufactorItem['other'] ? manufactorItem['other'] : manufactorItem['en-us']\r\n      this.manufactorText = name ? name : factoryName\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.createdTextfit()\r\n      window.addEventListener('resize', this.createdTextfit)\r\n    }, 30)\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener('resize', this.createdTextfit)\r\n  },\r\n  methods: {\r\n    commonStyle: k => variables[k],\r\n    // 游戏文字加载\r\n    createdTextfit() {\r\n      try {\r\n        const $metaName = this.$refs.metaName\r\n        const $metaProducer = this.$refs.metaProducer\r\n        const {\r\n          game_name_font_size,\r\n          game_producer_font_size,\r\n          card_by_recent_game_name_font_size_app,\r\n          card_by_recent_producer_font_size_app,\r\n          card_by_recent_game_name_font_size_pc,\r\n          card_by_recent_producer_font_size_pc\r\n        } = variables\r\n        let maxGameNameSize = game_name_font_size\r\n        let maxFactoryNameSize = game_producer_font_size\r\n        if (this.scene === 'recent') {\r\n          maxGameNameSize = this.isApp ? card_by_recent_game_name_font_size_app : card_by_recent_game_name_font_size_pc\r\n          maxFactoryNameSize = this.isApp ? card_by_recent_producer_font_size_app : card_by_recent_producer_font_size_pc\r\n        }\r\n        if (this.game.gameName && $metaName) {\r\n          textfit($metaName, { minFontSize: 6, maxFontSize: parseInt(maxGameNameSize), multiLine: true })\r\n        }\r\n        if (this.game.factoryName && $metaProducer) {\r\n          textfit($metaProducer, { minFontSize: 4, maxFontSize: parseInt(maxFactoryNameSize), multiLine: true })\r\n        }\r\n      } catch (error) {}\r\n    },\r\n    // 维护弹窗\r\n    showTips() {\r\n      this.$pop\r\n        .confirm({\r\n          title: this.$t('UI.Tips'),\r\n          content: this.maintainData.mtc_msg || '',\r\n          confirmText: this.$root.$t('General.General_1')\r\n        })\r\n        .show()\r\n    },\r\n    // 外部游戏货币比率弹窗\r\n    ratioDialog(type = 0) {\r\n      const info = this.langMoreInfo.find(f => f.name == 'currency_rate_withdraw_desc')\r\n      let content = info ? info.value || '' : ''\r\n      content = content.replaceAll('{game_name}', this.$route.query.gameName)\r\n      content = content.replaceAll('{bw_rate}', this.game?.egc_rate)\r\n\r\n      this.$pop\r\n        .confirm({\r\n          content,\r\n          confirmText: this.$t('General.General_1'),\r\n          cancelText: this.$t('General.General_2'),\r\n          success: () => {\r\n            // 进入游戏\r\n            this.onStartGame(type)\r\n          }\r\n        })\r\n        .show()\r\n    },\r\n    // 收藏功能触发\r\n    collect(item) {\r\n      collect(item, this)\r\n    },\r\n    /**\r\n     * 点击游戏卡片\r\n     * @param {*} type 1:更多游戏 0:进入游戏\r\n     */\r\n    goIntoGame(type = 0) {\r\n      const { gid, show_rate_tips } = this.game\r\n      // sport\r\n      if (gid == sport_btr_gid) {\r\n        if (hasShowGuideInstall(0)) {\r\n          this.$pop.guideInstall().show()\r\n          return\r\n        }\r\n        return this.$router.push({ name: 'sportView' })\r\n      }\r\n      // 更多游戏\r\n      if (type == 1) return this.$emit('toGame', this.game, type)\r\n      // 外部游戏货币比率弹窗\r\n      if (show_rate_tips && show_rate_tips == 1) return this.ratioDialog(type)\r\n      // 维护弹窗\r\n      if (this.game.mtc_msg) return this.showTips()\r\n      // 进入游戏\r\n      this.onStartGame(type)\r\n    },\r\n    // 进入游戏\r\n    onStartGame(type) {\r\n      let list = JSON.parse(JSON.stringify(this.recent))\r\n\r\n      const KEY = this.game.gameid ? 'gameid' : 'gid'\r\n      if (this.game.has_child == 0 || this.game.has_child == null) {\r\n        const index = list.findIndex(g => g[KEY] == this.game[KEY])\r\n        // 如果原来已经添加了，需要删除在添加，索引更新到第一个\r\n        if (index != -1) list.splice(index, 1)\r\n        list = [this.game, ...list]\r\n      }\r\n      // 进入游戏\r\n      this.$emit('toGame', this.game, type)\r\n      // 添加到'最近'的游戏列表\r\n      this.$store.commit('source/SET_RECENT', list)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@style/views/menu.game_card.modules.scss';\r\n\r\n.game-card {\r\n  position: relative;\r\n  cursor: pointer;\r\n  border-radius: $card_radius;\r\n  overflow: hidden;\r\n  user-select: none;\r\n}\r\n\r\n.card-action {\r\n  display: none;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  z-index: 6;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: $card_action_padding;\r\n  background: $card_action_background;\r\n}\r\n\r\n.action-title {\r\n  margin-bottom: $action_title_margin_bottom;\r\n  font-size: $action_title_font_size;\r\n  font-weight: $action_title_font_weight;\r\n  text-align: $action_title_text_align;\r\n}\r\n\r\n.mask-loading {\r\n  background: $card_background;\r\n  animation: $card_animation;\r\n  background-size: $card_background_size;\r\n}\r\n.card_bottom_meta {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  padding: $card_bottom_text_pa;\r\n  line-height: 1;\r\n  background-position: bottom;\r\n  background-size: cover;\r\n  // 控制适配字体对齐方式\r\n  ::v-deep .textFitted {\r\n    width: 100%;\r\n    text-align: $text_fitted_align;\r\n  }\r\n}\r\n.card_bottom_meta.scene_by_recent {\r\n  padding: $card_by_recent_bottom_text_pa;\r\n  .card_meta_main {\r\n    height: $card_by_recent_game_name_area_h_pc;\r\n    font-size: $card_by_recent_game_name_font_size_pc;\r\n    align-items: $card_by_recent_game_name_align;\r\n    margin: $card_by_recent_game_name_margin;\r\n  }\r\n  .card_meta_sub {\r\n    font-size: $card_by_recent_producer_font_size_pc;\r\n  }\r\n}\r\n\r\n.card_meta_main {\r\n  display: flex;\r\n  align-items: $game_name_align;\r\n  width: 100%;\r\n  height: $game_name_area_h;\r\n  margin-bottom: $game_name_mb;\r\n  font-family: $game_name_font_family;\r\n  font-size: $game_name_font_size;\r\n  color: $game_name_color;\r\n  text-shadow: $game_name_shadow;\r\n  overflow: hidden;\r\n  filter: drop-shadow($game_name_shadow);\r\n}\r\n\r\n.card_meta_sub {\r\n  width: 100%;\r\n  height: $game_producer_font_size + 2px;\r\n  font-family: $game_producer_font_family;\r\n  font-size: $game_producer_font_size;\r\n  color: $game_producer_color;\r\n}\r\n\r\n.mask-tips {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 10;\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  line-height: 1;\r\n  background: $card_action_background;\r\n}\r\n\r\n.mask-tips-content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: $mask_tips_content_mt;\r\n  line-height: $mask_tips_content_line_height;\r\n  text-align: center;\r\n  font-size: $mask_tips_font_size;\r\n  color: $mask_tips_font_color;\r\n  font-weight: $mask_tips_font_weight;\r\n}\r\n\r\n.image-wrapper {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  visibility: hidden;\r\n  &:hover {\r\n    .card-action {\r\n      display: flex;\r\n      animation: card-action 0.3s linear;\r\n      @keyframes card-action {\r\n        0% {\r\n          opacity: 0;\r\n        }\r\n        100% {\r\n          opacity: 1;\r\n        }\r\n      }\r\n    }\r\n    .collect {\r\n      opacity: 1;\r\n    }\r\n  }\r\n}\r\n\r\n.collect {\r\n  display: flex;\r\n  position: absolute;\r\n  right: $collect_offset;\r\n  top: $collect_offset;\r\n  opacity: 0;\r\n  z-index: 20;\r\n}\r\n\r\n.btn-play-text {\r\n  margin-left: $btn_play_text_ml;\r\n  font-size: $btn_play_text_font_size;\r\n}\r\n\r\n.card_tag {\r\n  width: $card_tag_width_app;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  z-index: 5;\r\n  &.tag_pc {\r\n    width: $card_tag_width_pc;\r\n  }\r\n}\r\n\r\n.load_game_img_recent {\r\n  object-fit: cover;\r\n  object-position: center;\r\n}\r\n\r\n@include breakpoint-only-xs() {\r\n  .collect {\r\n    opacity: 1;\r\n  }\r\n  .card_bottom_meta.scene_by_recent {\r\n    .card_meta_main {\r\n      height: $card_by_recent_game_name_area_h_app;\r\n      font-size: $card_by_recent_game_name_font_size_app;\r\n    }\r\n    .card_meta_sub {\r\n      font-size: $card_by_recent_producer_font_size_app;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game-card.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game-card.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./game-card.vue?vue&type=template&id=2194deec&scoped=true\"\nimport script from \"./game-card.vue?vue&type=script&lang=js\"\nexport * from \"./game-card.vue?vue&type=script&lang=js\"\nimport style0 from \"./game-card.vue?vue&type=style&index=0&id=2194deec&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2194deec\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"overflow-x-hidden\"},[_c('div',{staticClass:\"grid-box\"},[(_vm.list.length)?[_vm._l((_vm.list),function(item,index){return _c('div',{key:_vm.getKey(item),staticClass:\"grid-container\"},[_c('game-card',{attrs:{\"index\":index,\"game\":item,\"width\":!_vm.isFavorite && item.isFully ? _vm.cardSize.fullWidth : _vm.cardSize.width,\"height\":_vm.cardSize.height,\"category\":_vm.category},on:{\"toGame\":_vm.toGame}})],1)}),(_vm.$slots.default)?_c('div',{staticClass:\"grid-box--action\"},[_vm._t(\"default\")],2):_vm._e()]:_c('div',{staticClass:\"w_100 d-flex justify-center\"},[_c('empty')],1)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"overflow-x-hidden\">\r\n    <div class=\"grid-box\">\r\n      <template v-if=\"list.length\">\r\n        <div v-for=\"(item, index) in list\" :key=\"getKey(item)\" class=\"grid-container\">\r\n          <!-- 收藏tab正常展示竖版布局 -->\r\n          <game-card\r\n            :index=\"index\"\r\n            :game=\"item\"\r\n            :width=\"!isFavorite && item.isFully ? cardSize.fullWidth : cardSize.width\"\r\n            :height=\"cardSize.height\"\r\n            :category=\"category\"\r\n            @toGame=\"toGame\"\r\n          />\r\n        </div>\r\n        <div v-if=\"$slots.default\" class=\"grid-box--action\">\r\n          <slot></slot>\r\n        </div>\r\n      </template>\r\n      <div v-else class=\"w_100 d-flex justify-center\"><empty></empty></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex'\r\nimport GameCard from './game-card.vue'\r\nimport Empty from '@/components/ui/empty'\r\nimport variables from '@style/views/menu.index.modules.scss'\r\nimport { GAME_TYPE } from '@/api/setting'\r\nimport loadGameImg from '@/utils/loadGameImg'\r\nconst { grid_space, grid_space_app, lobby_box_padded, xs_lobby_box_padded } = variables\r\n\r\nexport default {\r\n  name: 'GameGrid',\r\n  components: {\r\n    GameCard,\r\n    Empty\r\n  },\r\n  props: {\r\n    list: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    category: [String, Number]\r\n  },\r\n  data() {\r\n    return {}\r\n  },\r\n  computed: {\r\n    ...mapState('base', ['isApp']),\r\n    ...mapState('layout', ['containerBox']),\r\n    isFavorite() {\r\n      return this.category === GAME_TYPE.FAVORATE\r\n    },\r\n    size() {\r\n      return this.isApp ? 3 : 6\r\n    },\r\n    cardSize() {\r\n      // 原图大小 160 /220\r\n      const size = this.size\r\n      const spacing = this.isApp ? grid_space_app * 2 : grid_space * 2\r\n      const outer_padded = this.isApp ? xs_lobby_box_padded * 2 : lobby_box_padded * 2\r\n      const w = 160\r\n      const h = 220\r\n      const rate = h / w\r\n      const fullWidth = this.containerBox.width - outer_padded\r\n      const width = (fullWidth + spacing) / size - spacing\r\n      return {\r\n        fullWidth: `${fullWidth}px`,\r\n        width: `${width}px`,\r\n        height: `${width * rate}px`\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    list: {\r\n      handler(n) {\r\n        if (Array.isArray(n) && n.length) {\r\n          this.$nextTick(() => loadGameImg(this.isApp ? 6 : 12))\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  methods: {\r\n    getKey(item) {\r\n      return `${item.id}_${item.gid}_${item.gameid}`\r\n    },\r\n    toGame(item) {\r\n      this.$emit('toGame', item)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import '@style/views/menu.index.modules.scss';\r\n\r\n.overflow-x-hidden {\r\n  .grid-box {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin: $grid_box_margin;\r\n    .grid-container {\r\n      padding: $grid_container_padding;\r\n      margin-bottom: $grid_container_margin_bottom;\r\n    }\r\n    .grid-box--action {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n@include breakpoint-only-xs() {\r\n  .overflow-x-hidden {\r\n    .grid-box {\r\n      margin: $grid_box_app_margin;\r\n      .grid-container {\r\n        padding: $grid_container_app_padding;\r\n        margin-bottom: $grid_container_app_margin_bottom;\r\n      }\r\n      .grid-box--action {\r\n        margin: $grid_box_action_app_ma;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game-grid.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./game-grid.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./game-grid.vue?vue&type=template&id=6d5bbd1c&scoped=true\"\nimport script from \"./game-grid.vue?vue&type=script&lang=js\"\nexport * from \"./game-grid.vue?vue&type=script&lang=js\"\nimport style0 from \"./game-grid.vue?vue&type=style&index=0&id=6d5bbd1c&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6d5bbd1c\",\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin\nexport default {\"game_wrapper_space\":\"10\",\"game_wrapper_app_space\":\"8\",\"grid_space\":\"10\",\"grid_space_app\":\"6\",\"icon_search_size\":\"14\",\"search_field_height\":\"36\",\"group_icon_size\":\"16\",\"pesquisa_img_width\":\"128\",\"pesquisa_img_height\":\"176\",\"xs_pesquisa_img_width\":\"88\",\"xs_pesquisa_img_height\":\"121\",\"search_tabs_height\":\"48\",\"search_tabs_color\":\"#fff\",\"lobby_box_padded\":\"16\",\"xs_lobby_box_padded\":\"16\",\"game_recent_indiv_app\":\"5\",\"game_recent_indiv_pc\":\"8\",\"game_recent_spacing_app\":\"12\",\"game_recent_spacing_pc\":\"16\",\"v-btn-wrap\":\"bwaAu2Sv4yUOUEvQDGsn\",\"v-btn__content\":\"Ob43ReYVJrURfhuav8gB\"};","/**\n * textFit v2.3.1\n * Previously known as jQuery.textFit\n * 11/2014 by STRML (strml.github.com)\n * MIT License\n *\n * To use: textFit(document.getElementById('target-div'), options);\n *\n * Will make the *text* content inside a container scale to fit the container\n * The container is required to have a set width and height\n * Uses binary search to fit text with minimal layout calls.\n * Version 2.0 does not use jQuery.\n */\n/*global define:true, document:true, window:true, HTMLElement:true*/\n\n(function(root, factory) {\n  \"use strict\";\n\n  // UMD shim\n  if (typeof define === \"function\" && define.amd) {\n    // AMD\n    define([], factory);\n  } else if (typeof exports === \"object\") {\n    // Node/CommonJS\n    module.exports = factory();\n  } else {\n    // Browser\n    root.textFit = factory();\n  }\n\n}(typeof global === \"object\" ? global : this, function () {\n  \"use strict\";\n\n  var defaultSettings = {\n    alignVert: false, // if true, textFit will align vertically using css tables\n    alignHoriz: false, // if true, textFit will set text-align: center\n    multiLine: false, // if true, textFit will not set white-space: no-wrap\n    detectMultiLine: true, // disable to turn off automatic multi-line sensing\n    minFontSize: 6,\n    maxFontSize: 80,\n    reProcess: true, // if true, textFit will re-process already-fit nodes. Set to 'false' for better performance\n    widthOnly: false, // if true, textFit will fit text to element width, regardless of text height\n    alignVertWithFlexbox: false, // if true, textFit will use flexbox for vertical alignment\n  };\n\n  return function textFit(els, options) {\n\n    if (!options) options = {};\n\n    // Extend options.\n    var settings = {};\n    for(var key in defaultSettings){\n      if(options.hasOwnProperty(key)){\n        settings[key] = options[key];\n      } else {\n        settings[key] = defaultSettings[key];\n      }\n    }\n\n    // Convert jQuery objects into arrays\n    if (typeof els.toArray === \"function\") {\n      els = els.toArray();\n    }\n\n    // Support passing a single el\n    var elType = Object.prototype.toString.call(els);\n    if (elType !== '[object Array]' && elType !== '[object NodeList]' &&\n            elType !== '[object HTMLCollection]'){\n      els = [els];\n    }\n\n    // Process each el we've passed.\n    for(var i = 0; i < els.length; i++){\n      processItem(els[i], settings);\n    }\n  };\n\n  /**\n   * The meat. Given an el, make the text inside it fit its parent.\n   * @param  {DOMElement} el       Child el.\n   * @param  {Object} settings     Options for fit.\n   */\n  function processItem(el, settings){\n    if (!isElement(el) || (!settings.reProcess && el.getAttribute('textFitted'))) {\n      return false;\n    }\n\n    // Set textFitted attribute so we know this was processed.\n    if(!settings.reProcess){\n      el.setAttribute('textFitted', 1);\n    }\n\n    var innerSpan, originalHeight, originalHTML, originalWidth;\n    var low, mid, high;\n\n    // Get element data.\n    originalHTML = el.innerHTML;\n    originalWidth = innerWidth(el);\n    originalHeight = innerHeight(el);\n\n    // Don't process if we can't find box dimensions\n    if (!originalWidth || (!settings.widthOnly && !originalHeight)) {\n      if(!settings.widthOnly)\n        throw new Error('Set a static height and width on the target element ' + el.outerHTML +\n          ' before using textFit!');\n      else\n        throw new Error('Set a static width on the target element ' + el.outerHTML +\n          ' before using textFit!');\n    }\n\n    // Add textFitted span inside this container.\n    if (originalHTML.indexOf('textFitted') === -1) {\n      innerSpan = document.createElement('span');\n      innerSpan.className = 'textFitted';\n      // Inline block ensure it takes on the size of its contents, even if they are enclosed\n      // in other tags like <p>\n      innerSpan.style['display'] = 'inline-block';\n      innerSpan.innerHTML = originalHTML;\n      el.innerHTML = '';\n      el.appendChild(innerSpan);\n    } else {\n      // Reprocessing.\n      innerSpan = el.querySelector('span.textFitted');\n      // Remove vertical align if we're reprocessing.\n      if (hasClass(innerSpan, 'textFitAlignVert')){\n        innerSpan.className = innerSpan.className.replace('textFitAlignVert', '');\n        innerSpan.style['height'] = '';\n        el.className.replace('textFitAlignVertFlex', '');\n      }\n    }\n\n    // Prepare & set alignment\n    if (settings.alignHoriz) {\n      el.style['text-align'] = 'center';\n      innerSpan.style['text-align'] = 'center';\n    }\n\n    // Check if this string is multiple lines\n    // Not guaranteed to always work if you use wonky line-heights\n    var multiLine = settings.multiLine;\n    if (settings.detectMultiLine && !multiLine &&\n        innerSpan.scrollHeight >= parseInt(window.getComputedStyle(innerSpan)['font-size'], 10) * 2){\n      multiLine = true;\n    }\n\n    // If we're not treating this as a multiline string, don't let it wrap.\n    if (!multiLine) {\n      el.style['white-space'] = 'nowrap';\n    }\n\n    low = settings.minFontSize;\n    high = settings.maxFontSize;\n\n    // Binary search for highest best fit\n    var size = low;\n    while (low <= high) {\n      mid = (high + low) >> 1;\n      innerSpan.style.fontSize = mid + 'px';\n      if(innerSpan.scrollWidth <= originalWidth && (settings.widthOnly || innerSpan.scrollHeight <= originalHeight)){\n        size = mid;\n        low = mid + 1;\n      } else {\n        high = mid - 1;\n      }\n      // await injection point\n    }\n    // found, updating font if differs:\n    if( innerSpan.style.fontSize != size + 'px' ) innerSpan.style.fontSize = size + 'px';\n\n    // Our height is finalized. If we are aligning vertically, set that up.\n    if (settings.alignVert) {\n      addStyleSheet();\n      var height = innerSpan.scrollHeight;\n      if (window.getComputedStyle(el)['position'] === \"static\"){\n        el.style['position'] = 'relative';\n      }\n      if (!hasClass(innerSpan, \"textFitAlignVert\")){\n        innerSpan.className = innerSpan.className + \" textFitAlignVert\";\n      }\n      innerSpan.style['height'] = height + \"px\";\n      if (settings.alignVertWithFlexbox && !hasClass(el, \"textFitAlignVertFlex\")) {\n        el.className = el.className + \" textFitAlignVertFlex\";\n      }\n    }\n  }\n\n  // Calculate height without padding.\n  function innerHeight(el){\n    var style = window.getComputedStyle(el, null);\n    return el.clientHeight -\n      parseInt(style.getPropertyValue('padding-top'), 10) -\n      parseInt(style.getPropertyValue('padding-bottom'), 10);\n  }\n\n  // Calculate width without padding.\n  function innerWidth(el){\n    var style = window.getComputedStyle(el, null);\n    return el.clientWidth -\n      parseInt(style.getPropertyValue('padding-left'), 10) -\n      parseInt(style.getPropertyValue('padding-right'), 10);\n  }\n\n  //Returns true if it is a DOM element\n  function isElement(o){\n    return (\n      typeof HTMLElement === \"object\" ? o instanceof HTMLElement : //DOM2\n      o && typeof o === \"object\" && o !== null && o.nodeType === 1 && typeof o.nodeName===\"string\"\n    );\n  }\n\n  function hasClass(element, cls) {\n    return (' ' + element.className + ' ').indexOf(' ' + cls + ' ') > -1;\n  }\n\n  // Better than a stylesheet dependency\n  function addStyleSheet() {\n    if (document.getElementById(\"textFitStyleSheet\")) return;\n    var style = [\n      \".textFitAlignVert{\",\n        \"position: absolute;\",\n        \"top: 0; right: 0; bottom: 0; left: 0;\",\n        \"margin: auto;\",\n        \"display: flex;\",\n        \"justify-content: center;\",\n        \"flex-direction: column;\",\n      \"}\",\n      \".textFitAlignVertFlex{\",\n        \"display: flex;\",\n      \"}\",\n      \".textFitAlignVertFlex .textFitAlignVert{\",\n        \"position: static;\",\n      \"}\",].join(\"\");\n\n    var css = document.createElement(\"style\");\n    css.type = \"text/css\";\n    css.id = \"textFitStyleSheet\";\n    css.innerHTML = style;\n    document.body.appendChild(css);\n  }\n}));\n","/**\r\n * 此工具函数仅用于从上至下依次加载页面里game-card组件中的图片\r\n * 因此严重依赖于 game-card 组件的dom结构\r\n * 如果 game-card 组件的dom结构发生变化，请同步修改此工具函数\r\n */\r\nimport loadIcon from '@/assets/icons'\r\nimport { splitArrayIntoChunks } from '@/utils/helper'\r\n\r\n/**\r\n * 创建canvas标签\r\n */\r\nfunction createCanvas() {\r\n  const canvas = document.createElement('canvas')\r\n  canvas.style.display = 'none'\r\n  document.body.appendChild(canvas)\r\n  return canvas\r\n}\r\n\r\n/**\r\n * 将图片绘制到canvas上，并通过canvas生成图片的base64编码\r\n * @param {Image} img 图片对象\r\n * @param {CanvasRenderingContext2D} ctx canvas上下文对象\r\n * @param {HTMLCanvasElement} canvas canvas对象\r\n * @returns {string} base64编码\r\n */\r\nfunction drawImageToCanvasAndGetBase64(img, ctx, canvas) {\r\n  const w = img.width\r\n  const h = img.height\r\n  canvas.width = w\r\n  canvas.height = h\r\n  ctx.clearRect(0, 0, w, h)\r\n  ctx.drawImage(img, 0, 0, w, h)\r\n  return canvas.toDataURL()\r\n}\r\n\r\n/**\r\n * 加载图片\r\n * @param {*} node game-card组件中包含类名为 load_game_img 的dom节点\r\n * @param {*} ctx canvas上下文对象\r\n * @param {*} canvas canvas对象\r\n */\r\nfunction loadImg(node, ctx, canvas) {\r\n  return new Promise((resolve, reject) => {\r\n    if (node.dataset) {\r\n      const isLoad = node.dataset.isload\r\n      if (isLoad !== 'no') {\r\n        // 已经加载过\r\n        resolve({ msg: 'isLoad' })\r\n        return\r\n      }\r\n      const src = node.dataset.src || ''\r\n      const img = new Image()\r\n      img.crossOrigin = 'Anonymous'\r\n      img.onload = () => {\r\n        const base64 = drawImageToCanvasAndGetBase64(img, ctx, canvas)\r\n        resolve({ node, base64 })\r\n      }\r\n      img.onerror = err => reject({ err, node })\r\n      img.src = src\r\n    } else {\r\n      reject({ err: 'no src', node })\r\n    }\r\n  })\r\n}\r\n\r\nfunction loadDefaultImg(ctx, canvas) {\r\n  return new Promise((resolve, reject) => {\r\n    const defaultBg = loadIcon('common_bg_gameicon', false)\r\n    const img = new Image()\r\n    img.crossOrigin = 'Anonymous'\r\n    img.onload = () => {\r\n      const base64 = drawImageToCanvasAndGetBase64(img, ctx, canvas)\r\n      resolve(base64)\r\n    }\r\n    img.onerror = () => {\r\n      resolve(defaultBg)\r\n    }\r\n    img.src = defaultBg\r\n  })\r\n}\r\n\r\n/**\r\n * 循环所有游戏图片dom节点\r\n * @param {Array<Array>} arr 二维数组\r\n * @param {*} ctx canvas上下文\r\n * @param {*} canvas canvas对象\r\n */\r\nasync function loopDomArr(arr, ctx, canvas) {\r\n  const defaultBg = await loadDefaultImg(ctx, canvas)\r\n  for (let childArr of arr) {\r\n    if (Array.isArray(childArr)) {\r\n      const res = await Promise.allSettled(childArr.map(node => loadImg(node, ctx, canvas)))\r\n      res.forEach(item => {\r\n        if (item.status === 'fulfilled' && !item.value.msg) {\r\n          // 加载成功并且是初次加载\r\n          const { node, base64 } = item.value\r\n          updateNode(node, base64)\r\n        } else if (item.status === 'rejected') {\r\n          const { node } = item.reason\r\n          updateNode(node, defaultBg)\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 更新节点样式\r\n * @param {dom} node game-card组件中包含类名为 load_game_img 的dom节点\r\n * @param {string} base64 图片的base64编码\r\n */\r\nfunction updateNode(node, base64) {\r\n  node.setAttribute('src', base64)\r\n  node.setAttribute('data-isload', 'yes')\r\n  const parent = node.parentNode\r\n  if (parent) {\r\n    parent.style.visibility = 'visible'\r\n    const grandpa = parent.parentNode\r\n    grandpa && grandpa.classList.remove('mask-loading')\r\n  }\r\n}\r\n\r\n/**\r\n * loadGameImg 主函数\r\n * @param {number} concurrencyLimit 最大并发请求数\r\n */\r\nfunction main(concurrencyLimit = 6) {\r\n  const canvas = createCanvas()\r\n  const ctx = canvas.getContext('2d')\r\n  const doms = document.querySelectorAll('.load_game_img')\r\n  if (doms && doms.length) {\r\n    const domArr = splitArrayIntoChunks(Array.from(doms), concurrencyLimit)\r\n    loopDomArr(domArr, ctx, canvas)\r\n  }\r\n  document.body.removeChild(canvas)\r\n}\r\n\r\nexport default main\r\n"],"names":["render","_vm","this","_c","_self","staticClass","style","on","$event","goIntoGame","class","load_game_img_recent","scene","attrs","pictureLink","default_image_bg","ref","_v","_s","game","gameName","manufactorText","_e","stopPropagation","collect","collectIconName","commonStyle","isApp","VBtn","$t","showTips","$u","getFormatDate","date","maintainData","mtc_st_date","pattern","mtc_end_date","tagImg","isCollect","tag_pc","staticRenderFns","name","props","category","String","Number","type","Object","default","width","required","height","showCollectIcon","Boolean","isViewAll","data","source","isMaintain","namePicture","factoryPicrure","gameShowState","computed","sizeStyle","isCollest","icon_maps","gameid","id","gid","has_child","Array","isArray","collectGames","some","g","showMeta","isFavitore","FAVORATE","isFully","pic_url","pic_phone_url","pic_pc_url","entrance_type","tab","result","maskLoad","includes","$loadIcon","watch","immediate","handler","params","mtc_status","beginTime","getTimeStamp","Date","endTime","maintains","deep","list","sid","findIndex","v","cur","getTime","start","end","created","show_sub_platform_name_switch","systemConfig","platform","factoryName","sub_platform_name_config","JSON","parse","stringify","manufactorItem","languageType","mounted","setTimeout","createdTextfit","window","addEventListener","beforeDestroy","removeEventListener","methods","k","$metaName","$refs","metaName","$metaProducer","metaProducer","game_name_font_size","game_producer_font_size","card_by_recent_game_name_font_size_app","card_by_recent_producer_font_size_app","card_by_recent_game_name_font_size_pc","card_by_recent_producer_font_size_pc","maxGameNameSize","maxFactoryNameSize","minFontSize","maxFontSize","parseInt","multiLine","error","$pop","confirm","title","content","mtc_msg","confirmText","$root","show","ratioDialog","info","langMoreInfo","find","f","value","replaceAll","$route","query","egc_rate","cancelText","success","onStartGame","item","show_rate_tips","hasShowGuideInstall","guideInstall","$router","push","$emit","recent","KEY","index","splice","$store","commit","component","_l","key","getKey","isFavorite","cardSize","fullWidth","toGame","$slots","_t","grid_space","grid_space_app","lobby_box_padded","xs_lobby_box_padded","components","GameCard","Empty","size","spacing","outer_padded","w","h","rate","containerBox","n","length","$nextTick","loadGameImg","root","factory","defaultSettings","alignVert","alignHoriz","detectMultiLine","reProcess","widthOnly","alignVertWithFlexbox","els","options","settings","hasOwnProperty","toArray","elType","prototype","toString","call","i","processItem","el","isElement","getAttribute","innerSpan","originalHeight","originalHTML","originalWidth","low","mid","high","setAttribute","innerHTML","innerWidth","innerHeight","Error","outerHTML","indexOf","document","createElement","className","appendChild","querySelector","hasClass","replace","scrollHeight","getComputedStyle","fontSize","scrollWidth","addStyleSheet","clientHeight","getPropertyValue","clientWidth","o","HTMLElement","nodeType","nodeName","element","cls","getElementById","join","css","body","createCanvas","canvas","display","drawImageToCanvasAndGetBase64","img","ctx","clearRect","drawImage","toDataURL","loadImg","node","Promise","resolve","reject","dataset","isLoad","isload","msg","src","Image","crossOrigin","onload","base64","onerror","err","loadDefaultImg","defaultBg","async","loopDomArr","arr","childArr","res","allSettled","map","forEach","status","reason","updateNode","parent","parentNode","visibility","grandpa","classList","remove","main","concurrencyLimit","getContext","doms","querySelectorAll","domArr","from","removeChild"],"sourceRoot":""}